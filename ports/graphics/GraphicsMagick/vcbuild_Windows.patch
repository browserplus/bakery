diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/All/All.vcproj GraphicsMagick-1.3.7/VisualMagick/All/All.vcproj
--- GraphicsMagick-1.3.7.orig/VisualMagick/All/All.vcproj	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/All/All.vcproj	2009-11-03 13:49:40 -0800
@@ -0,0 +1,67 @@
+<?xml version="1.0" encoding="Windows-1252"?>
+<VisualStudioProject
+	ProjectType="Visual C++"
+	Version="9.00"
+	Name="All"
+	ProjectGUID="{38960090-1A4F-44F0-801B-26337211F8CA}"
+	Keyword="MakeFileProj"
+	TargetFrameworkVersion="131072"
+	>
+	<Platforms>
+		<Platform
+			Name="Win32"
+		/>
+	</Platforms>
+	<ToolFiles>
+	</ToolFiles>
+	<Configurations>
+		<Configuration
+			Name="Debug|Win32"
+			OutputDirectory=".\Debug"
+			IntermediateDirectory=".\Debug"
+			ConfigurationType="10"
+			InheritedPropertySheets="$(VCInstallDir)VCProjectDefaults\UpgradeFromVC70.vsprops"
+			UseOfMFC="0"
+			>
+			<Tool
+				Name="VCPreBuildEventTool"
+			/>
+			<Tool
+				Name="VCCustomBuildTool"
+			/>
+			<Tool
+				Name="VCMIDLTool"
+			/>
+			<Tool
+				Name="VCPostBuildEventTool"
+			/>
+		</Configuration>
+		<Configuration
+			Name="Release|Win32"
+			OutputDirectory=".\Release"
+			IntermediateDirectory=".\Release"
+			ConfigurationType="10"
+			InheritedPropertySheets="$(VCInstallDir)VCProjectDefaults\UpgradeFromVC70.vsprops"
+			UseOfMFC="0"
+			>
+			<Tool
+				Name="VCPreBuildEventTool"
+			/>
+			<Tool
+				Name="VCCustomBuildTool"
+			/>
+			<Tool
+				Name="VCMIDLTool"
+			/>
+			<Tool
+				Name="VCPostBuildEventTool"
+			/>
+		</Configuration>
+	</Configurations>
+	<References>
+	</References>
+	<Files>
+	</Files>
+	<Globals>
+	</Globals>
+</VisualStudioProject>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/All/All.vcproj.WIN-BKLP8A0R3G4.lth.user GraphicsMagick-1.3.7/VisualMagick/All/All.vcproj.WIN-BKLP8A0R3G4.lth.user
--- GraphicsMagick-1.3.7.orig/VisualMagick/All/All.vcproj.WIN-BKLP8A0R3G4.lth.user	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/All/All.vcproj.WIN-BKLP8A0R3G4.lth.user	2009-11-03 13:49:40 -0800
@@ -0,0 +1,65 @@
+<?xml version="1.0" encoding="Windows-1252"?>
+<VisualStudioUserFile
+	ProjectType="Visual C++"
+	Version="9.00"
+	ShowAllFiles="false"
+	>
+	<Configurations>
+		<Configuration
+			Name="Debug|Win32"
+			>
+			<DebugSettings
+				Command=""
+				WorkingDirectory=""
+				CommandArguments=""
+				Attach="false"
+				DebuggerType="3"
+				Remote="1"
+				RemoteMachine="WIN-BKLP8A0R3G4"
+				RemoteCommand=""
+				HttpUrl=""
+				PDBPath=""
+				SQLDebugging=""
+				Environment=""
+				EnvironmentMerge="true"
+				DebuggerFlavor=""
+				MPIRunCommand=""
+				MPIRunArguments=""
+				MPIRunWorkingDirectory=""
+				ApplicationCommand=""
+				ApplicationArguments=""
+				ShimCommand=""
+				MPIAcceptMode=""
+				MPIAcceptFilter=""
+			/>
+		</Configuration>
+		<Configuration
+			Name="Release|Win32"
+			>
+			<DebugSettings
+				Command=""
+				WorkingDirectory=""
+				CommandArguments=""
+				Attach="false"
+				DebuggerType="3"
+				Remote="1"
+				RemoteMachine="WIN-BKLP8A0R3G4"
+				RemoteCommand=""
+				HttpUrl=""
+				PDBPath=""
+				SQLDebugging=""
+				Environment=""
+				EnvironmentMerge="true"
+				DebuggerFlavor=""
+				MPIRunCommand=""
+				MPIRunArguments=""
+				MPIRunWorkingDirectory=""
+				ApplicationCommand=""
+				ApplicationArguments=""
+				ShimCommand=""
+				MPIAcceptMode=""
+				MPIAcceptFilter=""
+			/>
+		</Configuration>
+	</Configurations>
+</VisualStudioUserFile>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/Magick++/CORE_Magick++_xt_lib.vcproj GraphicsMagick-1.3.7/VisualMagick/Magick++/CORE_Magick++_xt_lib.vcproj
--- GraphicsMagick-1.3.7.orig/VisualMagick/Magick++/CORE_Magick++_xt_lib.vcproj	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/Magick++/CORE_Magick++_xt_lib.vcproj	2009-11-03 13:49:40 -0800
@@ -0,0 +1,323 @@
+<?xml version="1.0" encoding="Windows-1252"?>
+<VisualStudioProject
+	ProjectType="Visual C++"
+	Version="9.00"
+	Name="CORE_Magick++"
+	ProjectGUID="{0DFE0625-2677-4AB5-BD82-42B0DF74B71E}"
+	Keyword="Win32Proj"
+	TargetFrameworkVersion="131072"
+	>
+	<Platforms>
+		<Platform
+			Name="Win32"
+		/>
+	</Platforms>
+	<ToolFiles>
+	</ToolFiles>
+	<Configurations>
+		<Configuration
+			Name="Release|Win32"
+			OutputDirectory="..\lib\"
+			IntermediateDirectory="..\Release\CORE_Magick++"
+			ConfigurationType="4"
+			InheritedPropertySheets="$(VCInstallDir)VCProjectDefaults\UpgradeFromVC70.vsprops"
+			UseOfMFC="0"
+			ATLMinimizesCRunTimeLibraryUsage="false"
+			CharacterSet="2"
+			>
+			<Tool
+				Name="VCPreBuildEventTool"
+			/>
+			<Tool
+				Name="VCCustomBuildTool"
+			/>
+			<Tool
+				Name="VCXMLDataGeneratorTool"
+			/>
+			<Tool
+				Name="VCWebServiceProxyGeneratorTool"
+			/>
+			<Tool
+				Name="VCMIDLTool"
+			/>
+			<Tool
+				Name="VCCLCompilerTool"
+				Optimization="3"
+				InlineFunctionExpansion="2"
+				OmitFramePointers="true"
+				AdditionalIncludeDirectories="..\..,..\..\xlib,..\..\Magick++\lib,..\..\zlib,..\..\bzlib,..\..\jpeg,..\..\lcms\src,..\..\lcms\include,..\..\ttf\include,..\..\ttf\include\freetype,..\..\ttf\include\freetype\cache,..\..\ttf\include\freetype\config,..\..\ttf\include\freetype\internal,..\..\libxml\include,..\..\libxml\include\libxml,..\..\Magick++,..\..\Magick++\demo,..\..\Magick++\lib,..\..\Magick++\lib\Magick++,..\..\Magick++\tests"
+				PreprocessorDefinitions="NDEBUG;_WINDOWS;WIN32;_VISUALC_;NeedFunctionPrototypes;_LIB;_CRT_SECURE_NO_WARNINGS;_CRT_NONSTDC_NO_WARNINGS"
+				StringPooling="true"
+				BasicRuntimeChecks="0"
+				RuntimeLibrary="0"
+				EnableFunctionLevelLinking="true"
+				UsePrecompiledHeader="0"
+				WarningLevel="3"
+				SuppressStartupBanner="true"
+				DebugInformationFormat="3"
+				CompileAs="0"
+			/>
+			<Tool
+				Name="VCManagedResourceCompilerTool"
+			/>
+			<Tool
+				Name="VCResourceCompilerTool"
+				PreprocessorDefinitions="NDEBUG"
+				Culture="1033"
+			/>
+			<Tool
+				Name="VCPreLinkEventTool"
+			/>
+			<Tool
+				Name="VCLibrarianTool"
+				AdditionalDependencies=""
+				OutputFile="..\lib\CORE_RL_Magick++_.lib"
+				SuppressStartupBanner="true"
+			/>
+			<Tool
+				Name="VCALinkTool"
+			/>
+			<Tool
+				Name="VCXDCMakeTool"
+			/>
+			<Tool
+				Name="VCBscMakeTool"
+			/>
+			<Tool
+				Name="VCFxCopTool"
+			/>
+			<Tool
+				Name="VCPostBuildEventTool"
+			/>
+		</Configuration>
+		<Configuration
+			Name="Debug|Win32"
+			OutputDirectory="..\lib\"
+			IntermediateDirectory="..\Debug\CORE_Magick++"
+			ConfigurationType="4"
+			InheritedPropertySheets="$(VCInstallDir)VCProjectDefaults\UpgradeFromVC70.vsprops"
+			UseOfMFC="0"
+			ATLMinimizesCRunTimeLibraryUsage="false"
+			CharacterSet="2"
+			>
+			<Tool
+				Name="VCPreBuildEventTool"
+			/>
+			<Tool
+				Name="VCCustomBuildTool"
+			/>
+			<Tool
+				Name="VCXMLDataGeneratorTool"
+			/>
+			<Tool
+				Name="VCWebServiceProxyGeneratorTool"
+			/>
+			<Tool
+				Name="VCMIDLTool"
+			/>
+			<Tool
+				Name="VCCLCompilerTool"
+				Optimization="0"
+				InlineFunctionExpansion="2"
+				OmitFramePointers="false"
+				AdditionalIncludeDirectories="..\..,..\..,LIBPNG_INCLUDE_PATH,..\..\Magick++\lib,ZLIB_INCLUDE_PATH,..\..\bzlib,JPEG_INCLUDE_PATH,..\..\lcms\src,..\..\lcms\include,..\..\ttf\include,..\..\ttf\include\freetype,..\..\ttf\include\freetype\cache,..\..\ttf\include\freetype\config,..\..\ttf\include\freetype\internal,..\..\libxml\include,..\..\libxml\include\libxml,..\..\magick,..\..\Magick++,..\..\Magick++\demo,..\..\Magick++\lib,..\..\Magick++\lib\Magick++,..\..\Magick++\tests"
+				PreprocessorDefinitions="_DEBUG;_WINDOWS;WIN32;_VISUALC_;NeedFunctionPrototypes;_LIB;_CRT_SECURE_NO_WARNINGS;_CRT_NONSTDC_NO_WARNINGS"
+				StringPooling="true"
+				BasicRuntimeChecks="3"
+				RuntimeLibrary="1"
+				EnableFunctionLevelLinking="true"
+				UsePrecompiledHeader="0"
+				WarningLevel="3"
+				SuppressStartupBanner="true"
+				DebugInformationFormat="3"
+				CompileAs="0"
+			/>
+			<Tool
+				Name="VCManagedResourceCompilerTool"
+			/>
+			<Tool
+				Name="VCResourceCompilerTool"
+				PreprocessorDefinitions="_DEBUG"
+				Culture="1033"
+			/>
+			<Tool
+				Name="VCPreLinkEventTool"
+			/>
+			<Tool
+				Name="VCLibrarianTool"
+				AdditionalDependencies=""
+				OutputFile="..\lib\CORE_DB_Magick++_.lib"
+				SuppressStartupBanner="true"
+			/>
+			<Tool
+				Name="VCALinkTool"
+			/>
+			<Tool
+				Name="VCXDCMakeTool"
+			/>
+			<Tool
+				Name="VCBscMakeTool"
+			/>
+			<Tool
+				Name="VCFxCopTool"
+			/>
+			<Tool
+				Name="VCPostBuildEventTool"
+			/>
+		</Configuration>
+	</Configurations>
+	<References>
+	</References>
+	<Files>
+		<Filter
+			Name="src"
+			>
+			<File
+				RelativePath="..\..\Magick++\lib\Blob.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\BlobRef.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\CoderInfo.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Color.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Drawable.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Exception.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Functions.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Geometry.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Image.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\ImageRef.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Montage.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Options.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Pixels.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\STL.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Thread.cpp"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\TypeMetric.cpp"
+				>
+			</File>
+		</Filter>
+		<Filter
+			Name="include"
+			>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\Blob.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\BlobRef.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\CoderInfo.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\Color.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\Drawable.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\Exception.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\Functions.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\Geometry.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\Image.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\ImageRef.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\Include.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\Montage.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\Options.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\Pixels.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\STL.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\Thread.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\Magick++\lib\Magick++\TypeMetric.h"
+				>
+			</File>
+		</Filter>
+		<Filter
+			Name="resource"
+			>
+		</Filter>
+	</Files>
+	<Globals>
+	</Globals>
+</VisualStudioProject>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/Magick++/CORE_Magick++_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user GraphicsMagick-1.3.7/VisualMagick/Magick++/CORE_Magick++_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user
--- GraphicsMagick-1.3.7.orig/VisualMagick/Magick++/CORE_Magick++_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/Magick++/CORE_Magick++_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user	2009-11-03 13:49:40 -0800
@@ -0,0 +1,65 @@
+<?xml version="1.0" encoding="Windows-1252"?>
+<VisualStudioUserFile
+	ProjectType="Visual C++"
+	Version="9.00"
+	ShowAllFiles="false"
+	>
+	<Configurations>
+		<Configuration
+			Name="Release|Win32"
+			>
+			<DebugSettings
+				Command=""
+				WorkingDirectory=""
+				CommandArguments=""
+				Attach="false"
+				DebuggerType="3"
+				Remote="1"
+				RemoteMachine="WIN-BKLP8A0R3G4"
+				RemoteCommand=""
+				HttpUrl=""
+				PDBPath=""
+				SQLDebugging=""
+				Environment=""
+				EnvironmentMerge="true"
+				DebuggerFlavor=""
+				MPIRunCommand=""
+				MPIRunArguments=""
+				MPIRunWorkingDirectory=""
+				ApplicationCommand=""
+				ApplicationArguments=""
+				ShimCommand=""
+				MPIAcceptMode=""
+				MPIAcceptFilter=""
+			/>
+		</Configuration>
+		<Configuration
+			Name="Debug|Win32"
+			>
+			<DebugSettings
+				Command=""
+				WorkingDirectory=""
+				CommandArguments=""
+				Attach="false"
+				DebuggerType="3"
+				Remote="1"
+				RemoteMachine="WIN-BKLP8A0R3G4"
+				RemoteCommand=""
+				HttpUrl=""
+				PDBPath=""
+				SQLDebugging=""
+				Environment=""
+				EnvironmentMerge="true"
+				DebuggerFlavor=""
+				MPIRunCommand=""
+				MPIRunArguments=""
+				MPIRunWorkingDirectory=""
+				ApplicationCommand=""
+				ApplicationArguments=""
+				ShimCommand=""
+				MPIAcceptMode=""
+				MPIAcceptFilter=""
+			/>
+		</Configuration>
+	</Configurations>
+</VisualStudioUserFile>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/VisualStaticMT.dsw GraphicsMagick-1.3.7/VisualMagick/VisualStaticMT.dsw
--- GraphicsMagick-1.3.7.orig/VisualMagick/VisualStaticMT.dsw	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/VisualStaticMT.dsw	2009-11-03 13:49:40 -0800
@@ -0,0 +1,5 @@
+Microsoft Developer Studio Workspace File, Format Version 6.00
+# WARNING: DO NOT EDIT OR DELETE THIS WORKSPACE FILE!
+
+###############################################################################
+
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/VisualStaticMT.sln GraphicsMagick-1.3.7/VisualMagick/VisualStaticMT.sln
--- GraphicsMagick-1.3.7.orig/VisualMagick/VisualStaticMT.sln	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/VisualStaticMT.sln	2009-11-03 13:49:40 -0800
@@ -0,0 +1,57 @@
+Microsoft Visual Studio Solution File, Format Version 10.00
+# Visual Studio 2008
+Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "All", "All\All.vcproj", "{38960090-1A4F-44F0-801B-26337211F8CA}"
+	ProjectSection(ProjectDependencies) = postProject
+		{5F22C602-6D6C-47D7-B41B-403A8E7062A3} = {5F22C602-6D6C-47D7-B41B-403A8E7062A3}
+		{0DFE0625-2677-4AB5-BD82-42B0DF74B71E} = {0DFE0625-2677-4AB5-BD82-42B0DF74B71E}
+		{51AC5B69-CADA-4FF2-BC36-E8152B550950} = {51AC5B69-CADA-4FF2-BC36-E8152B550950}
+		{6A00408B-3AA6-495B-BEBA-2ED40FC5B5ED} = {6A00408B-3AA6-495B-BEBA-2ED40FC5B5ED}
+		{3E8C968D-9B04-48B2-99F0-AF8354565EC3} = {3E8C968D-9B04-48B2-99F0-AF8354565EC3}
+	EndProjectSection
+EndProject
+Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "CORE_coders", "coders\CORE_coders_xt_lib.vcproj", "{6A00408B-3AA6-495B-BEBA-2ED40FC5B5ED}"
+EndProject
+Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "CORE_filters", "filters\CORE_filters_xt_lib.vcproj", "{5F22C602-6D6C-47D7-B41B-403A8E7062A3}"
+EndProject
+Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "CORE_magick", "magick\CORE_magick_xt_lib.vcproj", "{51AC5B69-CADA-4FF2-BC36-E8152B550950}"
+EndProject
+Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "CORE_Magick++", "Magick++\CORE_Magick++_xt_lib.vcproj", "{0DFE0625-2677-4AB5-BD82-42B0DF74B71E}"
+EndProject
+Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "CORE_wand", "wand\CORE_wand_xt_lib.vcproj", "{3E8C968D-9B04-48B2-99F0-AF8354565EC3}"
+	ProjectSection(ProjectDependencies) = postProject
+		{51AC5B69-CADA-4FF2-BC36-E8152B550950} = {51AC5B69-CADA-4FF2-BC36-E8152B550950}
+	EndProjectSection
+EndProject
+Global
+	GlobalSection(SolutionConfigurationPlatforms) = preSolution
+		Debug|Win32 = Debug|Win32
+		Release|Win32 = Release|Win32
+	EndGlobalSection
+	GlobalSection(ProjectConfigurationPlatforms) = postSolution
+		{38960090-1A4F-44F0-801B-26337211F8CA}.Debug|Win32.ActiveCfg = Debug|Win32
+		{38960090-1A4F-44F0-801B-26337211F8CA}.Release|Win32.ActiveCfg = Release|Win32
+		{6A00408B-3AA6-495B-BEBA-2ED40FC5B5ED}.Debug|Win32.ActiveCfg = Debug|Win32
+		{6A00408B-3AA6-495B-BEBA-2ED40FC5B5ED}.Debug|Win32.Build.0 = Debug|Win32
+		{6A00408B-3AA6-495B-BEBA-2ED40FC5B5ED}.Release|Win32.ActiveCfg = Release|Win32
+		{6A00408B-3AA6-495B-BEBA-2ED40FC5B5ED}.Release|Win32.Build.0 = Release|Win32
+		{5F22C602-6D6C-47D7-B41B-403A8E7062A3}.Debug|Win32.ActiveCfg = Debug|Win32
+		{5F22C602-6D6C-47D7-B41B-403A8E7062A3}.Debug|Win32.Build.0 = Debug|Win32
+		{5F22C602-6D6C-47D7-B41B-403A8E7062A3}.Release|Win32.ActiveCfg = Release|Win32
+		{5F22C602-6D6C-47D7-B41B-403A8E7062A3}.Release|Win32.Build.0 = Release|Win32
+		{51AC5B69-CADA-4FF2-BC36-E8152B550950}.Debug|Win32.ActiveCfg = Debug|Win32
+		{51AC5B69-CADA-4FF2-BC36-E8152B550950}.Debug|Win32.Build.0 = Debug|Win32
+		{51AC5B69-CADA-4FF2-BC36-E8152B550950}.Release|Win32.ActiveCfg = Release|Win32
+		{51AC5B69-CADA-4FF2-BC36-E8152B550950}.Release|Win32.Build.0 = Release|Win32
+		{0DFE0625-2677-4AB5-BD82-42B0DF74B71E}.Debug|Win32.ActiveCfg = Debug|Win32
+		{0DFE0625-2677-4AB5-BD82-42B0DF74B71E}.Debug|Win32.Build.0 = Debug|Win32
+		{0DFE0625-2677-4AB5-BD82-42B0DF74B71E}.Release|Win32.ActiveCfg = Release|Win32
+		{0DFE0625-2677-4AB5-BD82-42B0DF74B71E}.Release|Win32.Build.0 = Release|Win32
+		{3E8C968D-9B04-48B2-99F0-AF8354565EC3}.Debug|Win32.ActiveCfg = Debug|Win32
+		{3E8C968D-9B04-48B2-99F0-AF8354565EC3}.Debug|Win32.Build.0 = Debug|Win32
+		{3E8C968D-9B04-48B2-99F0-AF8354565EC3}.Release|Win32.ActiveCfg = Release|Win32
+		{3E8C968D-9B04-48B2-99F0-AF8354565EC3}.Release|Win32.Build.0 = Release|Win32
+	EndGlobalSection
+	GlobalSection(SolutionProperties) = preSolution
+		HideSolutionNode = FALSE
+	EndGlobalSection
+EndGlobal
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/VisualStaticMT.sln.old GraphicsMagick-1.3.7/VisualMagick/VisualStaticMT.sln.old
--- GraphicsMagick-1.3.7.orig/VisualMagick/VisualStaticMT.sln.old	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/VisualStaticMT.sln.old	2009-11-03 13:49:40 -0800
@@ -0,0 +1,2 @@
+Microsoft Visual Studio Solution File, Format Version 7.00
+Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "All", ".\All\All.vcproj", "{38960090-1A4F-44F0-801B-26337211F8CA}"
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/bin/colors.mgk GraphicsMagick-1.3.7/VisualMagick/bin/colors.mgk
--- GraphicsMagick-1.3.7.orig/VisualMagick/bin/colors.mgk	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/bin/colors.mgk	2009-11-03 13:50:42 -0800
@@ -0,0 +1,682 @@
+<?xml version="1.0"?>
+<colormap>
+  <color name="AliceBlue" red="240" green="248" blue="255" compliance="SVG, X11, XPM" />
+  <color name="AntiqueWhite" red="250" green="235" blue="215" compliance="SVG, X11, XPM" />
+  <color name="AntiqueWhite1" red="255" green="239" blue="219" compliance="X11" />
+  <color name="AntiqueWhite2" red="238" green="223" blue="204" compliance="X11" />
+  <color name="AntiqueWhite3" red="205" green="192" blue="176" compliance="X11" />
+  <color name="AntiqueWhite4" red="139" green="131" blue="120" compliance="X11" />
+  <color name="aqua" red="0" green="255" blue="255" compliance="SVG" />
+  <color name="aquamarine" red="127" green="255" blue="212" compliance="SVG, X11, XPM" />
+  <color name="aquamarine1" red="127" green="255" blue="212" compliance="X11" />
+  <color name="aquamarine2" red="118" green="238" blue="198" compliance="X11" />
+  <color name="aquamarine3" red="102" green="205" blue="170" compliance="X11" />
+  <color name="aquamarine4" red="69" green="139" blue="116" compliance="X11" />
+  <color name="azure" red="240" green="255" blue="255" compliance="SVG, X11, XPM" />
+  <color name="azure1" red="240" green="255" blue="255" compliance="X11" />
+  <color name="azure2" red="224" green="238" blue="238" compliance="X11" />
+  <color name="azure3" red="193" green="205" blue="205" compliance="X11" />
+  <color name="azure4" red="131" green="139" blue="139" compliance="X11" />
+  <color name="beige" red="245" green="245" blue="220" compliance="SVG, X11, XPM" />
+  <color name="bisque" red="255" green="228" blue="196" compliance="SVG, X11, XPM" />
+  <color name="bisque1" red="255" green="228" blue="196" compliance="X11" />
+  <color name="bisque2" red="238" green="213" blue="183" compliance="X11" />
+  <color name="bisque3" red="205" green="183" blue="158" compliance="X11" />
+  <color name="bisque4" red="139" green="125" blue="107" compliance="X11" />
+  <color name="black" red="0" green="0" blue="0" compliance="SVG, X11, XPM" />
+  <color name="BlanchedAlmond" red="255" green="235" blue="205" compliance="SVG, X11, XPM" />
+  <color name="blue" red="0" green="0" blue="255" compliance="SVG, X11, XPM" />
+  <color name="blue1" red="0" green="0" blue="255" compliance="X11" />
+  <color name="blue2" red="0" green="0" blue="238" compliance="X11" />
+  <color name="blue3" red="0" green="0" blue="205" compliance="X11" />
+  <color name="blue4" red="0" green="0" blue="139" compliance="X11" />
+  <color name="BlueViolet" red="138" green="43" blue="226" compliance="SVG, X11, XPM" />
+  <color name="brown" red="165" green="42" blue="42" compliance="SVG, X11, XPM" />
+  <color name="brown1" red="255" green="64" blue="64" compliance="X11" />
+  <color name="brown2" red="238" green="59" blue="59" compliance="X11" />
+  <color name="brown3" red="205" green="51" blue="51" compliance="X11" />
+  <color name="brown4" red="139" green="35" blue="35" compliance="X11" />
+  <color name="burlywood" red="222" green="184" blue="135" compliance="SVG, X11, XPM" />
+  <color name="burlywood1" red="255" green="211" blue="155" compliance="X11" />
+  <color name="burlywood2" red="238" green="197" blue="145" compliance="X11" />
+  <color name="burlywood3" red="205" green="170" blue="125" compliance="X11" />
+  <color name="burlywood4" red="139" green="115" blue="85" compliance="X11" />
+  <color name="cadet blue" red="95" green="158" blue="160" compliance="X11" />
+  <color name="CadetBlue" red="95" green="158" blue="160" compliance="SVG, X11, XPM" />
+  <color name="CadetBlue1" red="152" green="245" blue="255" compliance="X11" />
+  <color name="CadetBlue2" red="142" green="229" blue="238" compliance="X11" />
+  <color name="CadetBlue3" red="122" green="197" blue="205" compliance="X11" />
+  <color name="CadetBlue4" red="83" green="134" blue="139" compliance="X11" />
+  <color name="chartreuse" red="127" green="255" blue="0" compliance="SVG, X11, XPM" />
+  <color name="chartreuse1" red="127" green="255" blue="0" compliance="X11" />
+  <color name="chartreuse2" red="118" green="238" blue="0" compliance="X11" />
+  <color name="chartreuse3" red="102" green="205" blue="0" compliance="X11" />
+  <color name="chartreuse4" red="69" green="139" blue="0" compliance="X11" />
+  <color name="chocolate" red="210" green="105" blue="30" compliance="SVG, X11, XPM" />
+  <color name="chocolate1" red="255" green="127" blue="36" compliance="X11" />
+  <color name="chocolate2" red="238" green="118" blue="33" compliance="X11" />
+  <color name="chocolate3" red="205" green="102" blue="29" compliance="X11" />
+  <color name="chocolate4" red="139" green="69" blue="19" compliance="X11" />
+  <color name="coral" red="255" green="127" blue="80" compliance="SVG, X11, XPM" />
+  <color name="coral1" red="255" green="114" blue="86" compliance="X11" />
+  <color name="coral2" red="238" green="106" blue="80" compliance="X11" />
+  <color name="coral3" red="205" green="91" blue="69" compliance="X11" />
+  <color name="coral4" red="139" green="62" blue="47" compliance="X11" />
+  <color name="CornflowerBlue" red="100" green="149" blue="237" compliance="SVG, X11, XPM" />
+  <color name="cornsilk" red="255" green="248" blue="220" compliance="SVG, X11, XPM" />
+  <color name="cornsilk1" red="255" green="248" blue="220" compliance="X11" />
+  <color name="cornsilk2" red="238" green="232" blue="205" compliance="X11" />
+  <color name="cornsilk3" red="205" green="200" blue="177" compliance="X11" />
+  <color name="cornsilk4" red="139" green="136" blue="120" compliance="X11" />
+  <color name="crimson" red="220" green="20" blue="60" compliance="SVG" />
+  <color name="cyan" red="0" green="255" blue="255" compliance="SVG, X11, XPM" />
+  <color name="cyan1" red="0" green="255" blue="255" compliance="X11" />
+  <color name="cyan2" red="0" green="238" blue="238" compliance="X11" />
+  <color name="cyan3" red="0" green="205" blue="205" compliance="X11" />
+  <color name="cyan4" red="0" green="139" blue="139" compliance="X11" />
+  <color name="dark violet" red="148" green="0" blue="211" compliance="X11" />
+  <color name="DarkBlue" red="0" green="0" blue="139" compliance="SVG, X11" />
+  <color name="DarkCyan" red="0" green="139" blue="139" compliance="SVG, X11" />
+  <color name="DarkGoldenrod" red="184" green="134" blue="11" compliance="SVG, X11, XPM" />
+  <color name="DarkGoldenrod1" red="255" green="185" blue="15" compliance="X11" />
+  <color name="DarkGoldenrod2" red="238" green="173" blue="14" compliance="X11" />
+  <color name="DarkGoldenrod3" red="205" green="149" blue="12" compliance="X11" />
+  <color name="DarkGoldenrod4" red="139" green="101" blue="8" compliance="X11" />
+  <color name="DarkGray" red="169" green="169" blue="169" compliance="SVG, X11" />
+  <color name="DarkGreen" red="0" green="100" blue="0" compliance="SVG, X11, XPM" />
+  <color name="DarkGrey" red="169" green="169" blue="169" compliance="SVG, X11" />
+  <color name="DarkKhaki" red="189" green="183" blue="107" compliance="SVG, X11, XPM" />
+  <color name="DarkMagenta" red="139" green="0" blue="139" compliance="SVG, X11" />
+  <color name="DarkOliveGreen" red="85" green="107" blue="47" compliance="SVG, X11, XPM" />
+  <color name="DarkOliveGreen1" red="202" green="255" blue="112" compliance="X11" />
+  <color name="DarkOliveGreen2" red="188" green="238" blue="104" compliance="X11" />
+  <color name="DarkOliveGreen3" red="162" green="205" blue="90" compliance="X11" />
+  <color name="DarkOliveGreen4" red="110" green="139" blue="61" compliance="X11" />
+  <color name="DarkOrange" red="255" green="140" blue="0" compliance="SVG, X11, XPM" />
+  <color name="DarkOrange1" red="255" green="127" blue="0" compliance="X11" />
+  <color name="DarkOrange2" red="238" green="118" blue="0" compliance="X11" />
+  <color name="DarkOrange3" red="205" green="102" blue="0" compliance="X11" />
+  <color name="DarkOrange4" red="139" green="69" blue="0" compliance="X11" />
+  <color name="DarkOrchid" red="153" green="50" blue="204" compliance="SVG, X11, XPM" />
+  <color name="DarkOrchid1" red="191" green="62" blue="255" compliance="X11" />
+  <color name="DarkOrchid2" red="178" green="58" blue="238" compliance="X11" />
+  <color name="DarkOrchid3" red="154" green="50" blue="205" compliance="X11" />
+  <color name="DarkOrchid4" red="104" green="34" blue="139" compliance="X11" />
+  <color name="DarkRed" red="139" green="0" blue="0" compliance="SVG, X11" />
+  <color name="DarkSalmon" red="233" green="150" blue="122" compliance="SVG, X11, XPM" />
+  <color name="DarkSeaGreen" red="143" green="188" blue="143" compliance="SVG, X11, XPM" />
+  <color name="DarkSeaGreen1" red="193" green="255" blue="193" compliance="X11" />
+  <color name="DarkSeaGreen2" red="180" green="238" blue="180" compliance="X11" />
+  <color name="DarkSeaGreen3" red="155" green="205" blue="155" compliance="X11" />
+  <color name="DarkSeaGreen4" red="105" green="139" blue="105" compliance="X11" />
+  <color name="DarkSlateBlue" red="72" green="61" blue="139" compliance="SVG, X11, XPM" />
+  <color name="DarkSlateGray" red="47" green="79" blue="79" compliance="SVG, X11, XPM" />
+  <color name="DarkSlateGray1" red="151" green="255" blue="255" compliance="X11" />
+  <color name="DarkSlateGray2" red="141" green="238" blue="238" compliance="X11" />
+  <color name="DarkSlateGray3" red="121" green="205" blue="205" compliance="X11" />
+  <color name="DarkSlateGray4" red="82" green="139" blue="139" compliance="X11" />
+  <color name="DarkSlateGrey" red="47" green="79" blue="79" compliance="SVG, X11" />
+  <color name="DarkTurquoise" red="0" green="206" blue="209" compliance="SVG, X11, XPM" />
+  <color name="DarkViolet" red="148" green="0" blue="211" compliance="SVG, X11, XPM" />
+  <color name="DeepPink" red="255" green="20" blue="147" compliance="SVG, X11, XPM" />
+  <color name="DeepPink1" red="255" green="20" blue="147" compliance="X11" />
+  <color name="DeepPink2" red="238" green="18" blue="137" compliance="X11" />
+  <color name="DeepPink3" red="205" green="16" blue="118" compliance="X11" />
+  <color name="DeepPink4" red="139" green="10" blue="80" compliance="X11" />
+  <color name="DeepSkyBlue" red="0" green="191" blue="255" compliance="SVG, X11, XPM" />
+  <color name="DeepSkyBlue1" red="0" green="191" blue="255" compliance="X11" />
+  <color name="DeepSkyBlue2" red="0" green="178" blue="238" compliance="X11" />
+  <color name="DeepSkyBlue3" red="0" green="154" blue="205" compliance="X11" />
+  <color name="DeepSkyBlue4" red="0" green="104" blue="139" compliance="X11" />
+  <color name="DimGray" red="105" green="105" blue="105" compliance="SVG, X11, XPM" />
+  <color name="DimGrey" red="105" green="105" blue="105" compliance="SVG, X11" />
+  <color name="DodgerBlue" red="30" green="144" blue="255" compliance="SVG, X11, XPM" />
+  <color name="DodgerBlue1" red="30" green="144" blue="255" compliance="X11" />
+  <color name="DodgerBlue2" red="28" green="134" blue="238" compliance="X11" />
+  <color name="DodgerBlue3" red="24" green="116" blue="205" compliance="X11" />
+  <color name="DodgerBlue4" red="16" green="78" blue="139" compliance="X11" />
+  <color name="firebrick" red="178" green="34" blue="34" compliance="SVG, X11, XPM" />
+  <color name="firebrick1" red="255" green="48" blue="48" compliance="X11" />
+  <color name="firebrick2" red="238" green="44" blue="44" compliance="X11" />
+  <color name="firebrick3" red="205" green="38" blue="38" compliance="X11" />
+  <color name="firebrick4" red="139" green="26" blue="26" compliance="X11" />
+  <color name="FloralWhite" red="255" green="250" blue="240" compliance="SVG, X11, XPM" />
+  <color name="ForestGreen" red="34" green="139" blue="34" compliance="SVG, X11, XPM" />
+  <color name="fractal" red="128" green="128" blue="128" compliance="SVG" />
+  <color name="fuchsia" red="255" green="0" blue="255" compliance="SVG" />
+  <color name="gainsboro" red="220" green="220" blue="220" compliance="SVG, X11, XPM" />
+  <color name="GhostWhite" red="248" green="248" blue="255" compliance="SVG, X11, XPM" />
+  <color name="gold" red="255" green="215" blue="0 " compliance="X11, XPM" />
+  <color name="gold1" red="255" green="215" blue="0" compliance="SVG, X11" />
+  <color name="gold2" red="238" green="201" blue="0" compliance="X11" />
+  <color name="gold3" red="205" green="173" blue="0" compliance="X11" />
+  <color name="gold4" red="139" green="117" blue="0" compliance="X11" />
+  <color name="goldenrod" red="218" green="165" blue="32" compliance="SVG, X11, XPM" />
+  <color name="goldenrod1" red="255" green="193" blue="37" compliance="X11" />
+  <color name="goldenrod2" red="238" green="180" blue="34" compliance="X11" />
+  <color name="goldenrod3" red="205" green="155" blue="29" compliance="X11" />
+  <color name="goldenrod4" red="139" green="105" blue="20" compliance="X11" />
+  <color name="gray" red="126" green="126" blue="126" compliance="SVG" />
+  <color name="gray" red="190" green="190" blue="190" compliance="X11, XPM" />
+  <color name="gray0" red="0" green="0" blue="0" compliance="X11, XPM" />
+  <color name="gray1" red="3" green="3" blue="3" compliance="X11, XPM" />
+  <color name="gray10" red="26" green="26" blue="26 " compliance="X11, XPM" />
+  <color name="gray100" red="255" green="255" blue="255 " compliance="X11, XPM" />
+  <color name="gray100" red="255" green="255" blue="255 " compliance="X11, XPM" />
+  <color name="gray11" red="28" green="28" blue="28 " compliance="X11, XPM" />
+  <color name="gray12" red="31" green="31" blue="31 " compliance="X11, XPM" />
+  <color name="gray13" red="33" green="33" blue="33 " compliance="X11, XPM" />
+  <color name="gray14" red="36" green="36" blue="36 " compliance="X11, XPM" />
+  <color name="gray15" red="38" green="38" blue="38 " compliance="X11, XPM" />
+  <color name="gray16" red="41" green="41" blue="41 " compliance="X11, XPM" />
+  <color name="gray17" red="43" green="43" blue="43 " compliance="X11, XPM" />
+  <color name="gray18" red="46" green="46" blue="46 " compliance="X11, XPM" />
+  <color name="gray19" red="48" green="48" blue="48 " compliance="X11, XPM" />
+  <color name="gray2" red="5" green="5" blue="5" compliance="X11, XPM" />
+  <color name="gray20" red="51" green="51" blue="51 " compliance="X11, XPM" />
+  <color name="gray21" red="54" green="54" blue="54 " compliance="X11, XPM" />
+  <color name="gray22" red="56" green="56" blue="56 " compliance="X11, XPM" />
+  <color name="gray23" red="59" green="59" blue="59 " compliance="X11, XPM" />
+  <color name="gray24" red="61" green="61" blue="61 " compliance="X11, XPM" />
+  <color name="gray25" red="64" green="64" blue="64 " compliance="X11, XPM" />
+  <color name="gray26" red="66" green="66" blue="66 " compliance="X11, XPM" />
+  <color name="gray27" red="69" green="69" blue="69 " compliance="X11, XPM" />
+  <color name="gray28" red="71" green="71" blue="71 " compliance="X11, XPM" />
+  <color name="gray29" red="74" green="74" blue="74 " compliance="X11, XPM" />
+  <color name="gray3" red="8" green="8" blue="8" compliance="X11, XPM" />
+  <color name="gray30" red="77" green="77" blue="77 " compliance="X11, XPM" />
+  <color name="gray31" red="79" green="79" blue="79 " compliance="X11, XPM" />
+  <color name="gray32" red="82" green="82" blue="82 " compliance="X11, XPM" />
+  <color name="gray33" red="84" green="84" blue="84 " compliance="X11, XPM" />
+  <color name="gray34" red="87" green="87" blue="87 " compliance="X11, XPM" />
+  <color name="gray35" red="89" green="89" blue="89 " compliance="X11, XPM" />
+  <color name="gray36" red="92" green="92" blue="92 " compliance="X11, XPM" />
+  <color name="gray37" red="94" green="94" blue="94 " compliance="X11, XPM" />
+  <color name="gray38" red="97" green="97" blue="97 " compliance="X11, XPM" />
+  <color name="gray39" red="99" green="99" blue="99 " compliance="X11, XPM" />
+  <color name="gray4" red="10" green="10" blue="10 " compliance="X11, XPM" />
+  <color name="gray40" red="102" green="102" blue="102 " compliance="X11, XPM" />
+  <color name="gray41" red="105" green="105" blue="105 " compliance="X11, XPM" />
+  <color name="gray42" red="107" green="107" blue="107 " compliance="X11, XPM" />
+  <color name="gray43" red="110" green="110" blue="110 " compliance="X11, XPM" />
+  <color name="gray44" red="112" green="112" blue="112 " compliance="X11, XPM" />
+  <color name="gray45" red="115" green="115" blue="115 " compliance="X11, XPM" />
+  <color name="gray46" red="117" green="117" blue="117 " compliance="X11, XPM" />
+  <color name="gray47" red="120" green="120" blue="120 " compliance="X11, XPM" />
+  <color name="gray48" red="122" green="122" blue="122 " compliance="X11, XPM" />
+  <color name="gray49" red="125" green="125" blue="125 " compliance="X11, XPM" />
+  <color name="gray5" red="13" green="13" blue="13 " compliance="X11, XPM" />
+  <color name="gray50" red="127" green="127" blue="127 " compliance="X11, XPM" />
+  <color name="gray51" red="130" green="130" blue="130 " compliance="X11, XPM" />
+  <color name="gray52" red="133" green="133" blue="133 " compliance="X11, XPM" />
+  <color name="gray53" red="135" green="135" blue="135 " compliance="X11, XPM" />
+  <color name="gray54" red="138" green="138" blue="138 " compliance="X11, XPM" />
+  <color name="gray55" red="140" green="140" blue="140 " compliance="X11, XPM" />
+  <color name="gray56" red="143" green="143" blue="143 " compliance="X11, XPM" />
+  <color name="gray57" red="145" green="145" blue="145 " compliance="X11, XPM" />
+  <color name="gray58" red="148" green="148" blue="148 " compliance="X11, XPM" />
+  <color name="gray59" red="150" green="150" blue="150 " compliance="X11, XPM" />
+  <color name="gray6" red="15" green="15" blue="15 " compliance="X11, XPM" />
+  <color name="gray60" red="153" green="153" blue="153 " compliance="X11, XPM" />
+  <color name="gray61" red="156" green="156" blue="156 " compliance="X11, XPM" />
+  <color name="gray62" red="158" green="158" blue="158 " compliance="X11, XPM" />
+  <color name="gray63" red="161" green="161" blue="161 " compliance="X11, XPM" />
+  <color name="gray64" red="163" green="163" blue="163 " compliance="X11, XPM" />
+  <color name="gray65" red="166" green="166" blue="166 " compliance="X11, XPM" />
+  <color name="gray66" red="168" green="168" blue="168 " compliance="X11, XPM" />
+  <color name="gray67" red="171" green="171" blue="171 " compliance="X11, XPM" />
+  <color name="gray68" red="173" green="173" blue="173 " compliance="X11, XPM" />
+  <color name="gray69" red="176" green="176" blue="176 " compliance="X11, XPM" />
+  <color name="gray7" red="18" green="18" blue="18 " compliance="X11, XPM" />
+  <color name="gray70" red="179" green="179" blue="179 " compliance="X11, XPM" />
+  <color name="gray71" red="181" green="181" blue="181 " compliance="X11, XPM" />
+  <color name="gray72" red="184" green="184" blue="184 " compliance="X11, XPM" />
+  <color name="gray73" red="186" green="186" blue="186 " compliance="X11, XPM" />
+  <color name="gray74" red="189" green="189" blue="189 " compliance="X11, XPM" />
+  <color name="gray75" red="191" green="191" blue="191 " compliance="X11, XPM" />
+  <color name="gray76" red="194" green="194" blue="194 " compliance="X11, XPM" />
+  <color name="gray77" red="196" green="196" blue="196 " compliance="X11, XPM" />
+  <color name="gray78" red="199" green="199" blue="199 " compliance="X11, XPM" />
+  <color name="gray79" red="201" green="201" blue="201 " compliance="X11, XPM" />
+  <color name="gray8" red="20" green="20" blue="20 " compliance="X11, XPM" />
+  <color name="gray80" red="204" green="204" blue="204 " compliance="X11, XPM" />
+  <color name="gray81" red="207" green="207" blue="207 " compliance="X11, XPM" />
+  <color name="gray82" red="209" green="209" blue="209 " compliance="X11, XPM" />
+  <color name="gray83" red="212" green="212" blue="212 " compliance="X11, XPM" />
+  <color name="gray84" red="214" green="214" blue="214 " compliance="X11, XPM" />
+  <color name="gray85" red="217" green="217" blue="217 " compliance="X11, XPM" />
+  <color name="gray86" red="219" green="219" blue="219 " compliance="X11, XPM" />
+  <color name="gray87" red="222" green="222" blue="222 " compliance="X11, XPM" />
+  <color name="gray88" red="224" green="224" blue="224 " compliance="X11, XPM" />
+  <color name="gray89" red="227" green="227" blue="227 " compliance="X11, XPM" />
+  <color name="gray9" red="23" green="23" blue="23 " compliance="X11, XPM" />
+  <color name="gray90" red="229" green="229" blue="229 " compliance="X11, XPM" />
+  <color name="gray91" red="232" green="232" blue="232 " compliance="X11, XPM" />
+  <color name="gray92" red="235" green="235" blue="235 " compliance="X11, XPM" />
+  <color name="gray93" red="237" green="237" blue="237 " compliance="X11, XPM" />
+  <color name="gray94" red="240" green="240" blue="240 " compliance="X11, XPM" />
+  <color name="gray95" red="242" green="242" blue="242 " compliance="X11, XPM" />
+  <color name="gray96" red="245" green="245" blue="245 " compliance="X11, XPM" />
+  <color name="gray97" red="247" green="247" blue="247 " compliance="X11, XPM" />
+  <color name="gray98" red="250" green="250" blue="250 " compliance="X11, XPM" />
+  <color name="gray99" red="252" green="252" blue="252 " compliance="X11, XPM" />
+  <color name="green" red="0" green="128" blue="0" compliance="SVG" />
+  <color name="green" red="0" green="255" blue="0" compliance="X11, XPM" />
+  <color name="green1" red="0" green="255" blue="0" compliance="X11" />
+  <color name="green2" red="0" green="238" blue="0" compliance="X11" />
+  <color name="green3" red="0" green="205" blue="0" compliance="X11" />
+  <color name="green4" red="0" green="139" blue="0" compliance="X11" />
+  <color name="GreenYellow" red="173" green="255" blue="47" compliance="X11, XPM" />
+  <color name="grey" red="190" green="190" blue="190" compliance="SVG, X11" />
+  <color name="grey0" red="0" green="0" blue="0" compliance="SVG, X11" />
+  <color name="grey1" red="3" green="3" blue="3" compliance="SVG, X11" />
+  <color name="grey10" red="26" green="26" blue="26 " compliance="SVG, X11" />
+  <color name="grey100" red="255" green="255" blue="255 " compliance="SVG, X11" />
+  <color name="grey11" red="28" green="28" blue="28 " compliance="SVG, X11" />
+  <color name="grey12" red="31" green="31" blue="31 " compliance="SVG, X11" />
+  <color name="grey13" red="33" green="33" blue="33 " compliance="SVG, X11" />
+  <color name="grey14" red="36" green="36" blue="36 " compliance="SVG, X11" />
+  <color name="grey15" red="38" green="38" blue="38 " compliance="SVG, X11" />
+  <color name="grey16" red="41" green="41" blue="41 " compliance="SVG, X11" />
+  <color name="grey17" red="43" green="43" blue="43 " compliance="SVG, X11" />
+  <color name="grey18" red="46" green="46" blue="46 " compliance="SVG, X11" />
+  <color name="grey19" red="48" green="48" blue="48 " compliance="SVG, X11" />
+  <color name="grey2" red="5" green="5" blue="5" compliance="SVG, X11" />
+  <color name="grey20" red="51" green="51" blue="51 " compliance="SVG, X11" />
+  <color name="grey21" red="54" green="54" blue="54 " compliance="SVG, X11" />
+  <color name="grey22" red="56" green="56" blue="56 " compliance="SVG, X11" />
+  <color name="grey23" red="59" green="59" blue="59 " compliance="SVG, X11" />
+  <color name="grey24" red="61" green="61" blue="61 " compliance="SVG, X11" />
+  <color name="grey25" red="64" green="64" blue="64 " compliance="SVG, X11" />
+  <color name="grey26" red="66" green="66" blue="66 " compliance="SVG, X11" />
+  <color name="grey27" red="69" green="69" blue="69 " compliance="SVG, X11" />
+  <color name="grey28" red="71" green="71" blue="71 " compliance="SVG, X11" />
+  <color name="grey29" red="74" green="74" blue="74 " compliance="SVG, X11" />
+  <color name="grey3" red="8" green="8" blue="8" compliance="SVG, X11" />
+  <color name="grey30" red="77" green="77" blue="77 " compliance="SVG, X11" />
+  <color name="grey31" red="79" green="79" blue="79 " compliance="SVG, X11" />
+  <color name="grey32" red="82" green="82" blue="82 " compliance="SVG, X11" />
+  <color name="grey33" red="84" green="84" blue="84 " compliance="SVG, X11" />
+  <color name="grey34" red="87" green="87" blue="87 " compliance="SVG, X11" />
+  <color name="grey35" red="89" green="89" blue="89 " compliance="SVG, X11" />
+  <color name="grey36" red="92" green="92" blue="92 " compliance="SVG, X11" />
+  <color name="grey37" red="94" green="94" blue="94 " compliance="SVG, X11" />
+  <color name="grey38" red="97" green="97" blue="97 " compliance="SVG, X11" />
+  <color name="grey39" red="99" green="99" blue="99 " compliance="SVG, X11" />
+  <color name="grey4" red="10" green="10" blue="10 " compliance="SVG, X11" />
+  <color name="grey40" red="102" green="102" blue="102 " compliance="SVG, X11" />
+  <color name="grey41" red="105" green="105" blue="105 " compliance="SVG, X11" />
+  <color name="grey42" red="107" green="107" blue="107 " compliance="SVG, X11" />
+  <color name="grey43" red="110" green="110" blue="110 " compliance="SVG, X11" />
+  <color name="grey44" red="112" green="112" blue="112 " compliance="SVG, X11" />
+  <color name="grey45" red="115" green="115" blue="115 " compliance="SVG, X11" />
+  <color name="grey46" red="117" green="117" blue="117 " compliance="SVG, X11" />
+  <color name="grey47" red="120" green="120" blue="120 " compliance="SVG, X11" />
+  <color name="grey48" red="122" green="122" blue="122 " compliance="SVG, X11" />
+  <color name="grey49" red="125" green="125" blue="125 " compliance="SVG, X11" />
+  <color name="grey5" red="13" green="13" blue="13 " compliance="SVG, X11" />
+  <color name="grey50" red="127" green="127" blue="127 " compliance="SVG, X11" />
+  <color name="grey51" red="130" green="130" blue="130 " compliance="SVG, X11" />
+  <color name="grey52" red="133" green="133" blue="133 " compliance="SVG, X11" />
+  <color name="grey53" red="135" green="135" blue="135 " compliance="SVG, X11" />
+  <color name="grey54" red="138" green="138" blue="138 " compliance="SVG, X11" />
+  <color name="grey55" red="140" green="140" blue="140 " compliance="SVG, X11" />
+  <color name="grey56" red="143" green="143" blue="143 " compliance="SVG, X11" />
+  <color name="grey57" red="145" green="145" blue="145 " compliance="SVG, X11" />
+  <color name="grey58" red="148" green="148" blue="148 " compliance="SVG, X11" />
+  <color name="grey59" red="150" green="150" blue="150 " compliance="SVG, X11" />
+  <color name="grey6" red="15" green="15" blue="15 " compliance="SVG, X11" />
+  <color name="grey60" red="153" green="153" blue="153 " compliance="SVG, X11" />
+  <color name="grey61" red="156" green="156" blue="156 " compliance="SVG, X11" />
+  <color name="grey62" red="158" green="158" blue="158 " compliance="SVG, X11" />
+  <color name="grey63" red="161" green="161" blue="161 " compliance="SVG, X11" />
+  <color name="grey64" red="163" green="163" blue="163 " compliance="SVG, X11" />
+  <color name="grey65" red="166" green="166" blue="166 " compliance="SVG, X11" />
+  <color name="grey66" red="168" green="168" blue="168 " compliance="SVG, X11" />
+  <color name="grey67" red="171" green="171" blue="171 " compliance="SVG, X11" />
+  <color name="grey68" red="173" green="173" blue="173 " compliance="SVG, X11" />
+  <color name="grey69" red="176" green="176" blue="176 " compliance="SVG, X11" />
+  <color name="grey7" red="18" green="18" blue="18 " compliance="SVG, X11" />
+  <color name="grey70" red="179" green="179" blue="179 " compliance="SVG, X11" />
+  <color name="grey71" red="181" green="181" blue="181 " compliance="SVG, X11" />
+  <color name="grey72" red="184" green="184" blue="184 " compliance="SVG, X11" />
+  <color name="grey73" red="186" green="186" blue="186 " compliance="SVG, X11" />
+  <color name="grey74" red="189" green="189" blue="189 " compliance="SVG, X11" />
+  <color name="grey75" red="191" green="191" blue="191 " compliance="SVG, X11" />
+  <color name="grey76" red="194" green="194" blue="194 " compliance="SVG, X11" />
+  <color name="grey77" red="196" green="196" blue="196 " compliance="SVG, X11" />
+  <color name="grey78" red="199" green="199" blue="199 " compliance="SVG, X11" />
+  <color name="grey79" red="201" green="201" blue="201 " compliance="SVG, X11" />
+  <color name="grey8" red="20" green="20" blue="20 " compliance="SVG, X11" />
+  <color name="grey80" red="204" green="204" blue="204 " compliance="SVG, X11" />
+  <color name="grey81" red="207" green="207" blue="207 " compliance="SVG, X11" />
+  <color name="grey82" red="209" green="209" blue="209 " compliance="SVG, X11" />
+  <color name="grey83" red="212" green="212" blue="212 " compliance="SVG, X11" />
+  <color name="grey84" red="214" green="214" blue="214 " compliance="SVG, X11" />
+  <color name="grey85" red="217" green="217" blue="217 " compliance="SVG, X11" />
+  <color name="grey86" red="219" green="219" blue="219 " compliance="SVG, X11" />
+  <color name="grey87" red="222" green="222" blue="222 " compliance="SVG, X11" />
+  <color name="grey88" red="224" green="224" blue="224 " compliance="SVG, X11" />
+  <color name="grey89" red="227" green="227" blue="227 " compliance="SVG, X11" />
+  <color name="grey9" red="23" green="23" blue="23 " compliance="SVG, X11" />
+  <color name="grey90" red="229" green="229" blue="229 " compliance="SVG, X11" />
+  <color name="grey91" red="232" green="232" blue="232 " compliance="SVG, X11" />
+  <color name="grey92" red="235" green="235" blue="235 " compliance="SVG, X11" />
+  <color name="grey93" red="237" green="237" blue="237 " compliance="SVG, X11" />
+  <color name="grey94" red="240" green="240" blue="240 " compliance="SVG, X11" />
+  <color name="grey95" red="242" green="242" blue="242 " compliance="SVG, X11" />
+  <color name="grey96" red="245" green="245" blue="245 " compliance="SVG, X11" />
+  <color name="grey97" red="247" green="247" blue="247 " compliance="SVG, X11" />
+  <color name="grey98" red="250" green="250" blue="250 " compliance="SVG, X11" />
+  <color name="grey99" red="252" green="252" blue="252 " compliance="SVG, X11" />
+  <color name="honeydew" red="240" green="255" blue="240" compliance="SVG, X11, XPM" />
+  <color name="honeydew1" red="240" green="255" blue="240" compliance="X11" />
+  <color name="honeydew2" red="224" green="238" blue="224" compliance="X11" />
+  <color name="honeydew3" red="193" green="205" blue="193" compliance="X11" />
+  <color name="honeydew4" red="131" green="139" blue="131" compliance="X11" />
+  <color name="HotPink" red="255" green="105" blue="180" compliance="SVG, X11, XPM" />
+  <color name="HotPink1" red="255" green="110" blue="180" compliance="X11" />
+  <color name="HotPink2" red="238" green="106" blue="167" compliance="X11" />
+  <color name="HotPink3" red="205" green="96" blue="144" compliance="X11" />
+  <color name="HotPink4" red="139" green="58" blue="98" compliance="X11" />
+  <color name="IndianRed" red="205" green="92" blue="92" compliance="SVG, X11, XPM" />
+  <color name="IndianRed1" red="255" green="106" blue="106" compliance="X11" />
+  <color name="IndianRed2" red="238" green="99" blue="99" compliance="X11" />
+  <color name="IndianRed3" red="205" green="85" blue="85" compliance="X11" />
+  <color name="IndianRed4" red="139" green="58" blue="58" compliance="X11" />
+  <color name="indigo" red="75" green="0" blue="130" compliance="SVG" />
+  <color name="ivory" red="255" green="255" blue="240" compliance="SVG, X11, XPM" />
+  <color name="ivory1" red="255" green="255" blue="240" compliance="X11" />
+  <color name="ivory2" red="238" green="238" blue="224" compliance="X11" />
+  <color name="ivory3" red="205" green="205" blue="193" compliance="X11" />
+  <color name="ivory4" red="139" green="139" blue="131" compliance="X11" />
+  <color name="khaki" red="240" green="230" blue="140" compliance="SVG, X11, XPM" />
+  <color name="khaki1" red="255" green="246" blue="143" compliance="X11" />
+  <color name="khaki2" red="238" green="230" blue="133" compliance="X11" />
+  <color name="khaki3" red="205" green="198" blue="115" compliance="X11" />
+  <color name="khaki4" red="139" green="134" blue="78" compliance="X11" />
+  <color name="lavender" red="230" green="230" blue="250" compliance="SVG, X11, XPM" />
+  <color name="LavenderBlush" red="255" green="240" blue="245" compliance="SVG, X11, XPM" />
+  <color name="LavenderBlush1" red="255" green="240" blue="245" compliance="X11" />
+  <color name="LavenderBlush2" red="238" green="224" blue="229" compliance="X11" />
+  <color name="LavenderBlush3" red="205" green="193" blue="197" compliance="X11" />
+  <color name="LavenderBlush4" red="139" green="131" blue="134" compliance="X11" />
+  <color name="LawnGreen" red="124" green="252" blue="0" compliance="SVG, X11, XPM" />
+  <color name="LemonChiffon" red="255" green="250" blue="205" compliance="SVG, X11, XPM" />
+  <color name="LemonChiffon1" red="255" green="250" blue="205" compliance="X11" />
+  <color name="LemonChiffon2" red="238" green="233" blue="191" compliance="X11" />
+  <color name="LemonChiffon3" red="205" green="201" blue="165" compliance="X11" />
+  <color name="LemonChiffon4" red="139" green="137" blue="112" compliance="X11" />
+  <color name="LightBlue" red="173" green="216" blue="230" compliance="SVG, X11, XPM" />
+  <color name="LightBlue1" red="191" green="239" blue="255" compliance="X11" />
+  <color name="LightBlue2" red="178" green="223" blue="238" compliance="X11" />
+  <color name="LightBlue3" red="154" green="192" blue="205" compliance="X11" />
+  <color name="LightBlue4" red="104" green="131" blue="139" compliance="X11" />
+  <color name="LightCoral" red="240" green="128" blue="128" compliance="SVG, X11, XPM" />
+  <color name="LightCyan" red="224" green="255" blue="255" compliance="SVG, X11, XPM" />
+  <color name="LightCyan1" red="224" green="255" blue="255" compliance="X11" />
+  <color name="LightCyan2" red="209" green="238" blue="238" compliance="X11" />
+  <color name="LightCyan3" red="180" green="205" blue="205" compliance="X11" />
+  <color name="LightCyan4" red="122" green="139" blue="139" compliance="X11" />
+  <color name="LightGoldenrod" red="238" green="221" blue="130" compliance="X11, XPM" />
+  <color name="LightGoldenrod1" red="255" green="236" blue="139" compliance="X11" />
+  <color name="LightGoldenrod2" red="238" green="220" blue="130" compliance="X11" />
+  <color name="LightGoldenrod3" red="205" green="190" blue="112" compliance="X11" />
+  <color name="LightGoldenrod4" red="139" green="129" blue="76" compliance="X11" />
+  <color name="LightGoldenrodYellow" red="250" green="250" blue="210" compliance="SVG, X11, XPM" />
+  <color name="LightGray" red="211" green="211" blue="211" compliance="SVG, X11, XPM" />
+  <color name="LightGreen" red="144" green="238" blue="144" compliance="SVG, X11" />
+  <color name="LightGrey" red="211" green="211" blue="211" compliance="SVG, X11" />
+  <color name="LightPink" red="255" green="182" blue="193" compliance="SVG, X11, XPM" />
+  <color name="LightPink1" red="255" green="174" blue="185" compliance="X11" />
+  <color name="LightPink2" red="238" green="162" blue="173" compliance="X11" />
+  <color name="LightPink3" red="205" green="140" blue="149" compliance="X11" />
+  <color name="LightPink4" red="139" green="95" blue="101" compliance="X11" />
+  <color name="LightSalmon" red="255" green="160" blue="122" compliance="SVG, X11, XPM" />
+  <color name="LightSalmon1" red="255" green="160" blue="122" compliance="X11" />
+  <color name="LightSalmon2" red="238" green="149" blue="114" compliance="X11" />
+  <color name="LightSalmon3" red="205" green="129" blue="98" compliance="X11" />
+  <color name="LightSalmon4" red="139" green="87" blue="66" compliance="X11" />
+  <color name="LightSeaGreen" red="32" green="178" blue="170" compliance="SVG, X11, XPM" />
+  <color name="LightSkyBlue" red="135" green="206" blue="250" compliance="SVG, X11, XPM" />
+  <color name="LightSkyBlue1" red="176" green="226" blue="255" compliance="X11" />
+  <color name="LightSkyBlue2" red="164" green="211" blue="238" compliance="X11" />
+  <color name="LightSkyBlue3" red="141" green="182" blue="205" compliance="X11" />
+  <color name="LightSkyBlue4" red="96" green="123" blue="139" compliance="X11" />
+  <color name="LightSlateBlue" red="132" green="112" blue="255" compliance="X11, XPM" />
+  <color name="LightSlateGray" red="119" green="136" blue="153" compliance="SVG, X11, XPM" />
+  <color name="LightSlateGrey" red="119" green="136" blue="153" compliance="SVG, X11" />
+  <color name="LightSteelBlue" red="176" green="196" blue="222" compliance="SVG, X11, XPM" />
+  <color name="LightSteelBlue1" red="202" green="225" blue="255" compliance="X11" />
+  <color name="LightSteelBlue2" red="188" green="210" blue="238" compliance="X11" />
+  <color name="LightSteelBlue3" red="162" green="181" blue="205" compliance="X11" />
+  <color name="LightSteelBlue4" red="110" green="123" blue="139" compliance="X11" />
+  <color name="LightYellow" red="255" green="255" blue="224" compliance="SVG, X11, XPM" />
+  <color name="LightYellow1" red="255" green="255" blue="224" compliance="X11" />
+  <color name="LightYellow2" red="238" green="238" blue="209" compliance="X11" />
+  <color name="LightYellow3" red="205" green="205" blue="180" compliance="X11" />
+  <color name="LightYellow4" red="139" green="139" blue="122" compliance="X11" />
+  <color name="lime" red="0" green="255" blue="0" compliance="SVG" />
+  <color name="LimeGreen" red="50" green="205" blue="50" compliance="SVG, X11, XPM" />
+  <color name="linen" red="250" green="240" blue="230" compliance="SVG, X11, XPM" />
+  <color name="magenta" red="255" green="0" blue="255" compliance="SVG" />
+  <color name="magenta" red="255" green="0" blue="255" compliance="X11, XPM" />
+  <color name="magenta1" red="255" green="0" blue="255" compliance="X11" />
+  <color name="magenta2" red="238" green="0" blue="238" compliance="X11" />
+  <color name="magenta3" red="205" green="0" blue="205" compliance="X11" />
+  <color name="magenta4" red="139" green="0" blue="139" compliance="X11" />
+  <color name="maroon" red="128" green="0" blue="0" compliance="SVG" />
+  <color name="maroon" red="176" green="48" blue="96" compliance="X11, XPM" />
+  <color name="maroon1" red="255" green="52" blue="179" compliance="X11" />
+  <color name="maroon2" red="238" green="48" blue="167" compliance="X11" />
+  <color name="maroon3" red="205" green="41" blue="144" compliance="X11" />
+  <color name="maroon4" red="139" green="28" blue="98" compliance="X11" />
+  <color name="MediumAquamarine" red="102" green="205" blue="170" compliance="SVG, X11, XPM" />
+  <color name="MediumBlue" red="0" green="0" blue="205" compliance="SVG, X11, XPM" />
+  <color name="MediumForestGreen" red="50" green="129" blue="75" compliance="X11, XPM" />
+  <color name="MediumGoldenRod" red="209" green="193" blue="102" compliance="X11, XPM" />
+  <color name="MediumOrchid" red="186" green="85" blue="211" compliance="SVG, X11, XPM" />
+  <color name="MediumOrchid1" red="224" green="102" blue="255" compliance="X11" />
+  <color name="MediumOrchid2" red="209" green="95" blue="238" compliance="X11" />
+  <color name="MediumOrchid3" red="180" green="82" blue="205" compliance="X11" />
+  <color name="MediumOrchid4" red="122" green="55" blue="139" compliance="X11" />
+  <color name="MediumPurple" red="147" green="112" blue="219" compliance="SVG, X11, XPM" />
+  <color name="MediumPurple1" red="171" green="130" blue="255" compliance="X11" />
+  <color name="MediumPurple2" red="159" green="121" blue="238" compliance="X11" />
+  <color name="MediumPurple3" red="137" green="104" blue="205" compliance="X11" />
+  <color name="MediumPurple4" red="93" green="71" blue="139" compliance="X11" />
+  <color name="MediumSeaGreen" red="60" green="179" blue="113" compliance="SVG, X11, XPM" />
+  <color name="MediumSlateBlue" red="123" green="104" blue="238" compliance="SVG, X11, XPM" />
+  <color name="MediumSpringGreen" red="0" green="250" blue="154" compliance="SVG, X11, XPM" />
+  <color name="MediumTurquoise" red="72" green="209" blue="204" compliance="SVG, X11, XPM" />
+  <color name="MediumVioletRed" red="199" green="21" blue="133" compliance="SVG, X11, XPM" />
+  <color name="MidnightBlue" red="25" green="25" blue="112" compliance="SVG, X11, XPM" />
+  <color name="MintCream" red="245" green="255" blue="250" compliance="SVG, X11, XPM" />
+  <color name="MistyRose" red="255" green="228" blue="225" compliance="SVG, X11, XPM" />
+  <color name="MistyRose1" red="255" green="228" blue="225" compliance="X11" />
+  <color name="MistyRose2" red="238" green="213" blue="210" compliance="X11" />
+  <color name="MistyRose3" red="205" green="183" blue="181" compliance="X11" />
+  <color name="MistyRose4" red="139" green="125" blue="123" compliance="X11" />
+  <color name="moccasin" red="255" green="228" blue="181" compliance="SVG, X11, XPM" />
+  <color name="NavajoWhite" red="255" green="222" blue="173" compliance="SVG, X11, XPM" />
+  <color name="NavajoWhite1" red="255" green="222" blue="173" compliance="X11" />
+  <color name="NavajoWhite2" red="238" green="207" blue="161" compliance="X11" />
+  <color name="NavajoWhite3" red="205" green="179" blue="139" compliance="X11" />
+  <color name="NavajoWhite4" red="139" green="121" blue="94" compliance="X11" />
+  <color name="navy" red="0" green="0" blue="128" compliance="SVG, X11, XPM" />
+  <color name="NavyBlue" red="0" green="0" blue="128" compliance="X11, XPM" />
+  <color name="none" red="0" green="0" blue="0" opacity="255" compliance="SVG" />
+  <color name="OldLace" red="253" green="245" blue="230" compliance="SVG, X11, XPM" />
+  <color name="olive" red="128" green="128" blue="0" compliance="SVG" />
+  <color name="OliveDrab" red="107" green="142" blue="35" compliance="SVG, X11, XPM" />
+  <color name="OliveDrab1" red="192" green="255" blue="62" compliance="X11" />
+  <color name="OliveDrab2" red="179" green="238" blue="58" compliance="X11" />
+  <color name="OliveDrab3" red="154" green="205" blue="50" compliance="X11" />
+  <color name="OliveDrab4" red="105" green="139" blue="34" compliance="X11" />
+  <color name="opaque" opacity="0" compliance="SVG" />
+  <color name="orange" red="255" green="165" blue="0" compliance="SVG, X11, XPM" />
+  <color name="orange1" red="255" green="165" blue="0" compliance="X11" />
+  <color name="orange2" red="238" green="154" blue="0" compliance="X11" />
+  <color name="orange3" red="205" green="133" blue="0" compliance="X11" />
+  <color name="orange4" red="139" green="90" blue="0" compliance="X11" />
+  <color name="OrangeRed" red="255" green="69" blue="0" compliance="SVG, X11, XPM" />
+  <color name="OrangeRed1" red="255" green="69" blue="0" compliance="X11" />
+  <color name="OrangeRed2" red="238" green="64" blue="0" compliance="X11" />
+  <color name="OrangeRed3" red="205" green="55" blue="0" compliance="X11" />
+  <color name="OrangeRed4" red="139" green="37" blue="0" compliance="X11" />
+  <color name="orchid" red="218" green="112" blue="214" compliance="SVG, X11, XPM" />
+  <color name="orchid1" red="255" green="131" blue="250" compliance="X11" />
+  <color name="orchid2" red="238" green="122" blue="233" compliance="X11" />
+  <color name="orchid3" red="205" green="105" blue="201" compliance="X11" />
+  <color name="orchid4" red="139" green="71" blue="137" compliance="X11" />
+  <color name="PaleGoldenrod" red="238" green="232" blue="170" compliance="SVG, X11, XPM" />
+  <color name="PaleGreen" red="152" green="251" blue="152" compliance="SVG, X11, XPM" />
+  <color name="PaleGreen1" red="154" green="255" blue="154" compliance="X11" />
+  <color name="PaleGreen2" red="144" green="238" blue="144" compliance="X11" />
+  <color name="PaleGreen3" red="124" green="205" blue="124" compliance="X11" />
+  <color name="PaleGreen4" red="84" green="139" blue="84" compliance="X11" />
+  <color name="PaleTurquoise" red="175" green="238" blue="238" compliance="SVG, X11, XPM" />
+  <color name="PaleTurquoise1" red="187" green="255" blue="255" compliance="X11" />
+  <color name="PaleTurquoise2" red="174" green="238" blue="238" compliance="X11" />
+  <color name="PaleTurquoise3" red="150" green="205" blue="205" compliance="X11" />
+  <color name="PaleTurquoise4" red="102" green="139" blue="139" compliance="X11" />
+  <color name="PaleVioletRed" red="219" green="112" blue="147" compliance="SVG, X11, XPM" />
+  <color name="PaleVioletRed1" red="255" green="130" blue="171" compliance="X11" />
+  <color name="PaleVioletRed2" red="238" green="121" blue="159" compliance="X11" />
+  <color name="PaleVioletRed3" red="205" green="104" blue="137" compliance="X11" />
+  <color name="PaleVioletRed4" red="139" green="71" blue="93" compliance="X11" />
+  <color name="PapayaWhip" red="255" green="239" blue="213" compliance="SVG, X11, XPM" />
+  <color name="PeachPuff" red="255" green="218" blue="185" compliance="SVG, X11, XPM" />
+  <color name="PeachPuff1" red="255" green="218" blue="185" compliance="X11" />
+  <color name="PeachPuff2" red="238" green="203" blue="173" compliance="X11" />
+  <color name="PeachPuff3" red="205" green="175" blue="149" compliance="X11" />
+  <color name="PeachPuff4" red="139" green="119" blue="101" compliance="X11" />
+  <color name="peru" red="205" green="133" blue="63" compliance="SVG, X11, XPM" />
+  <color name="pink" red="255" green="192" blue="203" compliance="SVG, X11, XPM" />
+  <color name="pink1" red="255" green="181" blue="197" compliance="X11" />
+  <color name="pink2" red="238" green="169" blue="184" compliance="X11" />
+  <color name="pink3" red="205" green="145" blue="158" compliance="X11" />
+  <color name="pink4" red="139" green="99" blue="108" compliance="X11" />
+  <color name="plum" red="221" green="160" blue="221" compliance="SVG, X11, XPM" />
+  <color name="plum1" red="255" green="187" blue="255" compliance="X11" />
+  <color name="plum2" red="238" green="174" blue="238" compliance="X11" />
+  <color name="plum3" red="205" green="150" blue="205" compliance="X11" />
+  <color name="plum4" red="139" green="102" blue="139" compliance="X11" />
+  <color name="PowderBlue" red="176" green="224" blue="230" compliance="SVG, X11, XPM" />
+  <color name="purple" red="128" green="0" blue="128" compliance="SVG" />
+  <color name="purple" red="160" green="32" blue="240" compliance="X11, XPM" />
+  <color name="purple1" red="155" green="48" blue="255" compliance="X11" />
+  <color name="purple2" red="145" green="44" blue="238" compliance="X11" />
+  <color name="purple3" red="125" green="38" blue="205" compliance="X11" />
+  <color name="purple4" red="85" green="26" blue="139" compliance="X11" />
+  <color name="red" red="255" green="0" blue="0" compliance="SVG, X11, XPM" />
+  <color name="red1" red="255" green="0" blue="0" compliance="X11" />
+  <color name="red2" red="238" green="0" blue="0" compliance="X11" />
+  <color name="red3" red="205" green="0" blue="0" compliance="X11" />
+  <color name="red4" red="139" green="0" blue="0" compliance="X11" />
+  <color name="RosyBrown" red="188" green="143" blue="143" compliance="SVG, X11, XPM" />
+  <color name="RosyBrown1" red="255" green="193" blue="193" compliance="X11" />
+  <color name="RosyBrown2" red="238" green="180" blue="180" compliance="X11" />
+  <color name="RosyBrown3" red="205" green="155" blue="155" compliance="X11" />
+  <color name="RosyBrown4" red="139" green="105" blue="105" compliance="X11" />
+  <color name="RoyalBlue" red="65" green="105" blue="225" compliance="SVG, X11, XPM" />
+  <color name="RoyalBlue1" red="72" green="118" blue="255" compliance="X11" />
+  <color name="RoyalBlue2" red="67" green="110" blue="238" compliance="X11" />
+  <color name="RoyalBlue3" red="58" green="95" blue="205" compliance="X11" />
+  <color name="RoyalBlue4" red="39" green="64" blue="139" compliance="X11" />
+  <color name="SaddleBrown" red="139" green="69" blue="19" compliance="SVG, X11, XPM" />
+  <color name="salmon" red="250" green="128" blue="114" compliance="SVG, X11, XPM" />
+  <color name="salmon1" red="255" green="140" blue="105" compliance="X11" />
+  <color name="salmon2" red="238" green="130" blue="98" compliance="X11" />
+  <color name="salmon3" red="205" green="112" blue="84" compliance="X11" />
+  <color name="salmon4" red="139" green="76" blue="57" compliance="X11" />
+  <color name="SandyBrown" red="244" green="164" blue="96" compliance="SVG, X11, XPM" />
+  <color name="SeaGreen" red="46" green="139" blue="87" compliance="SVG, X11, XPM" />
+  <color name="SeaGreen1" red="84" green="255" blue="159" compliance="X11" />
+  <color name="SeaGreen2" red="78" green="238" blue="148" compliance="X11" />
+  <color name="SeaGreen3" red="67" green="205" blue="128" compliance="X11" />
+  <color name="SeaGreen4" red="46" green="139" blue="87" compliance="X11" />
+  <color name="seashell" red="255" green="245" blue="238" compliance="SVG, X11, XPM" />
+  <color name="seashell1" red="255" green="245" blue="238" compliance="X11" />
+  <color name="seashell2" red="238" green="229" blue="222" compliance="X11" />
+  <color name="seashell3" red="205" green="197" blue="191" compliance="X11" />
+  <color name="seashell4" red="139" green="134" blue="130" compliance="X11" />
+  <color name="sienna" red="160" green="82" blue="45" compliance="SVG, X11, XPM" />
+  <color name="sienna1" red="255" green="130" blue="71" compliance="X11" />
+  <color name="sienna2" red="238" green="121" blue="66" compliance="X11" />
+  <color name="sienna3" red="205" green="104" blue="57" compliance="X11" />
+  <color name="sienna4" red="139" green="71" blue="38" compliance="X11" />
+  <color name="silver" red="192" green="192" blue="192" compliance="SVG" />
+  <color name="SkyBlue" red="135" green="206" blue="235" compliance="SVG, X11, XPM" />
+  <color name="SkyBlue1" red="135" green="206" blue="255" compliance="X11" />
+  <color name="SkyBlue2" red="126" green="192" blue="238" compliance="X11" />
+  <color name="SkyBlue3" red="108" green="166" blue="205" compliance="X11" />
+  <color name="SkyBlue4" red="74" green="112" blue="139" compliance="X11" />
+  <color name="SlateBlue" red="106" green="90" blue="205" compliance="SVG, X11, XPM" />
+  <color name="SlateBlue1" red="131" green="111" blue="255" compliance="X11" />
+  <color name="SlateBlue2" red="122" green="103" blue="238" compliance="X11" />
+  <color name="SlateBlue3" red="105" green="89" blue="205" compliance="X11" />
+  <color name="SlateBlue4" red="71" green="60" blue="139" compliance="X11" />
+  <color name="SlateGray" red="112" green="128" blue="144" compliance="SVG, X11, XPM" />
+  <color name="SlateGray1" red="198" green="226" blue="255" compliance="X11" />
+  <color name="SlateGray2" red="185" green="211" blue="238" compliance="X11" />
+  <color name="SlateGray3" red="159" green="182" blue="205" compliance="X11" />
+  <color name="SlateGray4" red="108" green="123" blue="139" compliance="X11" />
+  <color name="SlateGrey" red="112" green="128" blue="144" compliance="SVG, X11" />
+  <color name="snow" red="255" green="250" blue="250" compliance="SVG, X11, XPM" />
+  <color name="snow1" red="255" green="250" blue="250" compliance="X11" />
+  <color name="snow2" red="238" green="233" blue="233" compliance="X11" />
+  <color name="snow3" red="205" green="201" blue="201" compliance="X11" />
+  <color name="snow4" red="139" green="137" blue="137" compliance="X11" />
+  <color name="SpringGreen" red="0" green="255" blue="127" compliance="SVG, X11, XPM" />
+  <color name="SpringGreen1" red="0" green="255" blue="127" compliance="X11" />
+  <color name="SpringGreen2" red="0" green="238" blue="118" compliance="X11" />
+  <color name="SpringGreen3" red="0" green="205" blue="102" compliance="X11" />
+  <color name="SpringGreen4" red="0" green="139" blue="69" compliance="X11" />
+  <color name="SteelBlue" red="70" green="130" blue="180" compliance="SVG, X11, XPM" />
+  <color name="SteelBlue1" red="99" green="184" blue="255" compliance="X11" />
+  <color name="SteelBlue2" red="92" green="172" blue="238" compliance="X11" />
+  <color name="SteelBlue3" red="79" green="148" blue="205" compliance="X11" />
+  <color name="SteelBlue4" red="54" green="100" blue="139" compliance="X11" />
+  <color name="tan" red="210" green="180" blue="140" compliance="SVG, X11, XPM" />
+  <color name="tan1" red="255" green="165" blue="79" compliance="X11" />
+  <color name="tan2" red="238" green="154" blue="73" compliance="X11" />
+  <color name="tan3" red="205" green="133" blue="63" compliance="X11" />
+  <color name="tan4" red="139" green="90" blue="43" compliance="X11" />
+  <color name="teal" red="0" green="128" blue="128" compliance="SVG" />
+  <color name="thistle" red="216" green="191" blue="216" compliance="SVG, X11, XPM" />
+  <color name="thistle1" red="255" green="225" blue="255" compliance="X11" />
+  <color name="thistle2" red="238" green="210" blue="238" compliance="X11" />
+  <color name="thistle3" red="205" green="181" blue="205" compliance="X11" />
+  <color name="thistle4" red="139" green="123" blue="139" compliance="X11" />
+  <color name="tomato" red="255" green="99" blue="71" compliance="SVG, X11, XPM" />
+  <color name="tomato1" red="255" green="99" blue="71" compliance="X11" />
+  <color name="tomato2" red="238" green="92" blue="66" compliance="X11" />
+  <color name="tomato3" red="205" green="79" blue="57" compliance="X11" />
+  <color name="tomato4" red="139" green="54" blue="38" compliance="X11" />
+  <color name="transparent" opacity="255" compliance="SVG" />
+  <color name="turquoise" red="64" green="224" blue="208" compliance="SVG, X11, XPM" />
+  <color name="turquoise1" red="0" green="245" blue="255" compliance="X11" />
+  <color name="turquoise2" red="0" green="229" blue="238" compliance="X11" />
+  <color name="turquoise3" red="0" green="197" blue="205" compliance="X11" />
+  <color name="turquoise4" red="0" green="134" blue="139" compliance="X11" />
+  <color name="violet" red="238" green="130" blue="238" compliance="SVG, X11, XPM" />
+  <color name="VioletRed" red="208" green="32" blue="144" compliance="X11, XPM" />
+  <color name="VioletRed1" red="255" green="62" blue="150" compliance="X11" />
+  <color name="VioletRed2" red="238" green="58" blue="140" compliance="X11" />
+  <color name="VioletRed3" red="205" green="50" blue="120" compliance="X11" />
+  <color name="VioletRed4" red="139" green="34" blue="82" compliance="X11" />
+  <color name="wheat" red="245" green="222" blue="179" compliance="SVG, X11, XPM" />
+  <color name="wheat1" red="255" green="231" blue="186" compliance="X11" />
+  <color name="wheat2" red="238" green="216" blue="174" compliance="X11" />
+  <color name="wheat3" red="205" green="186" blue="150" compliance="X11" />
+  <color name="wheat4" red="139" green="126" blue="102" compliance="X11" />
+  <color name="white" red="255" green="255" blue="255" compliance="SVG, X11" />
+  <color name="WhiteSmoke" red="245" green="245" blue="245" compliance="SVG, X11, XPM" />
+  <color name="yellow" red="255" green="255" blue="0" compliance="SVG, X11, XPM" />
+  <color name="yellow1" red="255" green="255" blue="0" compliance="X11" />
+  <color name="yellow2" red="238" green="238" blue="0" compliance="X11" />
+  <color name="yellow3" red="205" green="205" blue="0" compliance="X11" />
+  <color name="yellow4" red="139" green="139" blue="0" compliance="X11" />
+  <color name="YellowGreen" red="154" green="205" blue="50" compliance="SVG, X11, XPM" />
+</colormap>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/bin/delegates.mgk GraphicsMagick-1.3.7/VisualMagick/bin/delegates.mgk
--- GraphicsMagick-1.3.7.orig/VisualMagick/bin/delegates.mgk	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/bin/delegates.mgk	2009-11-03 13:50:42 -0800
@@ -0,0 +1,118 @@
+<?xml version="1.0"?>
+<!--
+  Delegate command file.
+
+  Commands which specify
+
+    decode="in_format" encode="out_format"
+
+  specify the rules for converting from in_format to out_format
+  These rules may be used to translate directly between formats.
+
+  Commands which specify only
+
+    decode="in_format"
+
+  specify the rules for converting from in_format to some format that
+  GraphicsMagick will automatically recognize. These rules are used to
+  decode formats.
+
+  Commands which specify only
+
+   encode="out_format"
+
+  specify the rules for an "encoder" which may accept any input format.
+
+  For delegates other than gs-color, gs-mono, and mpeg-encode
+  the substitution rules are as follows:
+
+    %i  input image filename
+    %o  output image filename
+    %u  unique temporary filename
+    %z  secondary unique temporary filename
+
+    %#  input image signature
+    %b  image file size
+    %c  input image comment
+    %d  original filename directory part
+    %e  original filename extension part
+    %f  original filename
+    %t  original filename top (base) part
+    %g  window group
+    %h  image rows (height)
+    %k  input image number colors
+    %l  input image label
+    %m  input image format ("magick")
+    %n  input image number of scenes
+    %p  page number
+    %q  input image depth
+    %r  input image storage class, colorspace, and matte
+    %s  scene number
+    %w  image columns (width)
+    %x  input image x resolution
+    %y  input image y resolution
+    %[  input image attribute (e.g. "%[EXIF:Orientation]")
+    %%  pass through literal %
+
+  Use 'gm convert -list delegates' to verify how the contents of this
+  file has been parsed.
+
+ -->
+<delegatemap>
+<delegate decode="autotrace" stealth="True" command='autotrace -output-format svg -output-file "%o" "%i"' />
+  <delegate decode="bmp" encode="launch" mode="encode" command='"@GMDisplayDelegate@" "%i."' />
+  <delegate decode="bmp" encode="win" mode="encode" command='"@GMDisplayDelegate@" "%i."' />
+  <delegate decode="browse" restrain="True" spawn="True" command='cmd /C start "http://www.GraphicsMagick.org/"'  />
+  <delegate decode="cgm" command='ralcgm -d ps "%i" "%o" %u
+    "@GMDelegate@" convert -adjoin %o*.ps "%o"' />
+  <delegate decode="compress" restrain="True" command='|uncompress -c "%i"' />
+  <delegate decode="dcraw" command='dcraw -c -w -2 "%i" > "%o"' />
+  <delegate decode="dot" command='dot -Tps "%i" -o "%o"' />
+  <delegate decode="dvi" command='dvips -q -o "%o" "%i"' />
+  <delegate decode="edit" restrain="True" command='notepad "%o"' />
+  <delegate decode="eps" encode="pdf" mode="bi" command='"@PSDelegate@" -q -dBATCH -dMaxBitmap=300000000 -dNOPAUSE -sDEVICE=pdfwrite -sOutputFile=%o -- "%i" -c quit' />
+  <delegate decode="eps" encode="ps" mode="bi" command='"@PSDelegate@" -q -dBATCH -dMaxBitmap=300000000 -dNOPAUSE -sDEVICE=pswrite -sOutputFile=%o -- "%i" -c quit' />
+  <delegate decode="fig" command='/usr/X11R6/bin/fig2dev -L ps "%i" "%o"' />
+  <delegate decode="gplt" command='/bin/echo "set size 1.25,0.62
+    set terminal postscript portrait color solid; set output "%o"; load "%i"" > %u;gnuplot %u' />
+
+  <!-- Read monochrome Postscript, EPS, and PDF  -->
+  <delegate decode="gs-mono" stealth="True" command='"@PSDelegate@" -q -dBATCH -dMaxBitmap=50000000 -dNOPAUSE -sDEVICE=pbmraw -dTextAlphaBits=%u -dGraphicsAlphaBits=%u -r%s %s "-sOutputFile=%s" -- "%s" -c quit' />
+
+  <!-- Read grayscale Postscript, EPS, and PDF  -->
+  <delegate decode="gs-gray" stealth="True" command='"@PSDelegate@" -q -dBATCH -dMaxBitmap=50000000 -dNOPAUSE -sDEVICE=pgmraw -dTextAlphaBits=%u -dGraphicsAlphaBits=%u -r%s %s "-sOutputFile=%s" -- "%s" -c quit' />
+
+<!-- Read palette Postscript, EPS, and PDF  -->
+  <delegate decode="gs-palette" stealth="True" command='"@PSDelegate@" -q -dBATCH -dMaxBitmap=50000000 -dNOPAUSE -sDEVICE=pcx256 -dTextAlphaBits=%u -dGraphicsAlphaBits=%u -r%s %s "-sOutputFile=%s" -- "%s" -c quit' />
+
+  <!-- Read color Postscript, EPS, and PDF  -->
+  <delegate decode="gs-color" stealth="True" command='"@PSDelegate@" -q -dBATCH -dMaxBitmap=50000000 -dNOPAUSE -sDEVICE=ppmraw -dTextAlphaBits=%u -dGraphicsAlphaBits=%u -r%s %s "-sOutputFile=%s" -- "%s" -c quit' />
+
+  <!-- Read color+alpha Postscript, EPS, and PDF  -->
+  <delegate decode="gs-color+alpha" stealth="True" command='"@PSDelegate@" -q -dBATCH -dMaxBitmap=50000000 -dNOPAUSE -sDEVICE=pngalpha -dTextAlphaBits=%u -dGraphicsAlphaBits=%u -r%s %s "-sOutputFile=%s" -- "%s" -c quit' />
+
+  <delegate decode="hpgl" command='"@HPGLDecodeDelegate@" -q -m eps -f "%o" "%i"' />
+  <delegate decode="htm" command='html2ps -U -o "%o" "%i"' />
+  <delegate decode="html" command='html2ps -U -o "%o" "%i"' />
+  <delegate decode="ilbm" command='ilbmtoppm "%i" > "%o"' />
+  <delegate decode="man" command='groff -man -Tps "%i" > "%o"' />
+  <delegate decode="mpeg" command='"@MPEGDecodeDelegate@" -q -b "%i" -f -o3 "%u%%05d"; "@GMDelegate@" convert -temporary "%u*.ppm" "miff:%o" ' />
+  <delegate encode="mpeg-encode" stealth="True" command='"@MPEGEncodeDelegate@" "%i" "%o"' />
+  <delegate decode="pdf" encode="eps" mode="bi" command='"@PSDelegate@" -q -dBATCH -dMaxBitmap=300000000 -dNOPAUSE -sDEVICE=epswrite -sOutputFile=%o -- "%i" -c quit' />
+  <delegate decode="pdf" encode="ps" mode="bi" command='"@PSDelegate@" -q -dBATCH -dMaxBitmap=300000000 -dNOPAUSE -sDEVICE=pswrite -sOutputFile=%o -- "%i" -c quit' />
+  <delegate decode="pgp" command='pgpv -fq "%i"' />
+  <delegate decode="pnm" encode="ilbm" mode="encode" command='ppmtoilbm -24if "%i" > "%o"' />
+  <delegate decode="pov" command='povray "+i"%i"" +o"%o" +fn%q +w%w +h%h +a -q9 -kfi"%s" -kff"%n"
+    "@GMDelegate@" convert -adjoin %o*.png "%o"' />
+  <delegate decode="ps" encode="eps" mode="bi" command='"@PSDelegate@" -q -dBATCH -dMaxBitmap=300000000 -dNOPAUSE -sDEVICE=epswrite -sOutputFile=%o -- "%i" -c quit' />
+  <delegate decode="ps" encode="pdf" mode="bi" command='"@PSDelegate@" -q -dBATCH -dMaxBitmap=300000000 -dNOPAUSE -sDEVICE=pdfwrite -sOutputFile=%o -- "%i" -c quit' />
+  <delegate decode="pcl" encode="print" mode="encode" command='print "%i"' />
+  <delegate decode="rad" command='ra_ppm -g 1.0 "%i" "%o"' />
+  <delegate decode="rgba" encode="rle" mode="encode" command='"@GMDelegate@" mogrify -flip -size %wx%h "rgba:%i"
+    rawtorle -w %w -h %h -n 4 -o "%o" "%i"' />
+  <delegate decode="scan" command='scanimage -d "%i" > "%o"' />
+  <delegate decode="shtml" command='html2ps -U -o "%o" "%i"' />
+  <delegate decode="txt" encode="ps" mode="bi" command='enscript -o "%o" "%i"' />
+  <delegate decode="xcf" command='xcftopnm "%i" > "%o"' />
+  <delegate encode="compress" restrain="True" command='|compress -c > "%o"' />
+</delegatemap>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/bin/log.mgk GraphicsMagick-1.3.7/VisualMagick/bin/log.mgk
--- GraphicsMagick-1.3.7.orig/VisualMagick/bin/log.mgk	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/bin/log.mgk	2009-11-03 13:50:42 -0800
@@ -0,0 +1,73 @@
+<?xml version="1.0"?>
+<!--
+
+                 GraphicsMagick Logging Configuration File
+
+The following options are available:
+
+  o events
+      annotate       Text annotation events.
+      blob           File opening/closing/loading events.
+      cache          Pixel cache events.
+      coder          File format coder events.
+      configure      Configuration events (searching for .mgk files, etc.).
+      deprecate      Identify use of deprecated functions.
+      error          Error exception report events.
+      exception      Exception report events (warning and error).
+      locale         Locale events.
+      none           Reporting disabled.
+      render         Rendering (drawing) events.
+      resource       Resource allocation events (memory, disk, etc.)
+      temporaryFile  Temporary file events (allocate, deallocate, etc.)
+      transform      Image processing events.
+      user           User events (not emitted by GraphicsMagick).
+      warning        Warning exception report events.
+      X11            X11 server events.
+
+  o output
+      none           Reporting disabled.
+      disabled       Reporting disabled.
+      stdout         Log to stdout in "human readable" format
+      stderr         Log to stderr in "human readable" format
+      xmlfile        Log to a file in an XML format
+      txtfile        Log to a file in a text format
+      win32debug     Windows, Output events to the application/system debugger.
+      win32eventlog  Windows, Output events to the Application event log.
+
+  o Filename - Use specified filename if output to a file is selected.
+    Place a %d in the file name in order to support multiple log generations.
+
+  o Generations - Number of log files to maintain before circulating back to
+      the first name.
+
+  o Limit - Maximum number of logging events before creating a new log file.
+
+  o Format - Format of logging output
+
+      You can display the following components by embedding
+      special format characters:
+
+        %d   domain
+        %e   event
+        %f   function
+        %l   line
+        %m   module
+        %p   process ID
+        %r   real CPU time
+        %t   wall clock time
+        %u   user CPU time
+        %%   percent sign
+        \n   newline
+        \r   carriage return
+
+ -->
+<magicklog>
+  <log events="Warning" />
+  <log events="Error" />
+  <log events="FatalError" />
+  <log output="win32eventlog" />
+  <log filename="Magick-%d.log" />
+  <log generations="3" />
+  <log limit="2000" />
+  <log format="%t %r %u %p %m/%f/%l/%d/%s:\n  %e"  />
+</magicklog>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/bin/magic.mgk GraphicsMagick-1.3.7/VisualMagick/bin/magic.mgk
--- GraphicsMagick-1.3.7.orig/VisualMagick/bin/magic.mgk	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/bin/magic.mgk	2009-11-03 13:50:42 -0800
@@ -0,0 +1,90 @@
+<?xml version="1.0"?>
+<magicmap>
+  <magic name="AVI" offset="0" target="RIFF" />
+  <magic name="8BIMWTEXT" offset="0" target="8\000B\000I\000M\000#" />
+  <magic name="8BIMTEXT" offset="0" target="8BIM#" />
+  <magic name="8BIM" offset="0" target="8BIM" />
+  <magic name="BMP" offset="0" target="BA" />
+  <magic name="BMP" offset="0" target="BM" />
+  <magic name="BMP" offset="0" target="CI" />
+  <magic name="BMP" offset="0" target="CP" />
+  <magic name="BMP" offset="0" target="IC" />
+  <magic name="BMP" offset="0" target="PI" />
+  <magic name="CGM" offset="0" target="BEGMF" />
+  <magic name="DCM" offset="128" target="DICM" />
+  <magic name="DCX" offset="0" target="\261\150\336\72" />
+  <magic name="DIB" offset="0" target="\050\000" />
+  <magic name="DOT" offset="0" target="digraph" />
+  <magic name="EMF" offset="40" target="\040\105\115\106\000\000\001\000" />
+  <magic name="EPT" offset="0" target="\305\320\323\306" />
+  <magic name="FAX" offset="0" target="DFAX" />
+  <magic name="FIG" offset="0" target="#FIG" />
+  <magic name="FITS" offset="0" target="IT0" />
+  <magic name="FITS" offset="0" target="SIMPLE" />
+  <magic name="FPX" offset="0" target="\320\317\021\340" />
+  <magic name="GIF" offset="0" target="GIF8" />
+  <magic name="GPLT" offset="0" target="#!/usr/local/bin/gnuplot" />
+  <magic name="HDF" offset="1" target="HDF" />
+  <magic name="HPGL" offset="0" target="IN;" />
+  <magic name="HPGL" offset="0" target="\033E\033" />
+  <magic name="HTML" offset="1" target="HTML" />
+  <magic name="HTML" offset="1" target="html" />
+  <magic name="ILBM" offset="8" target="ILBM" />
+  <magic name="IPTCWTEXT" offset="0" target="\062\000#\000\060\000=\000\042\000&\000#\000\060\000;\000&\000#\000\062\000;\000\042\000" />
+  <magic name="IPTCTEXT" offset="0" target="2#0=\042&#0;&#2;\042" />
+  <magic name="IPTC" offset="0" target="\034\002" />
+  <magic name="JNG" offset="0" target="\213JNG\r\n\032\n" />
+  <magic name="JPEG" offset="0" target="\377\330\377" />
+  <magic name="JPC" offset="0" target="\377\117" />
+  <magic name="JP2" offset="4" target="\152\120\040\040\015" />
+  <magic name="MIFF" offset="0" target="Id=ImageMagick" />
+  <magic name="MIFF" offset="0" target="id=ImageMagick" />
+  <magic name="MNG" offset="0" target="\212MNG\r\n\032\n" />
+  <magic name="MPC" offset="0" target="id=MagickCache" />
+  <magic name="MPEG" offset="0" target="\000\000\001\263" />
+  <magic name="MVG" offset="0" target="push graphic-context" />
+  <magic name="PCD" offset="2048" target="PCD_" />
+  <magic name="PCL" offset="0" target="\033E\033" />
+  <magic name="PCX" offset="0" target="\012\002" />
+  <magic name="PCX" offset="0" target="\012\005" />
+  <magic name="PDB" offset="60" target="vIMGView" />
+  <magic name="PDF" offset="0" target="%PDF-" />
+  <magic name="PFA" offset="0" target="%!PS-AdobeFont-1.0" />
+  <magic name="PFB" offset="6" target="%!PS-AdobeFont-1.0" />
+  <magic name="PGX" offset="0" target="\050\107\020\115\046" />
+  <magic name="PICT" offset="522" target="\000\021\002\377\014\000" />
+  <magic name="PNG" offset="0" target="\211PNG\r\n\032\n" />
+  <magic name="PNM" offset="0" target="P1" />
+  <magic name="PNM" offset="0" target="P2" />
+  <magic name="PNM" offset="0" target="P3" />
+  <magic name="PNM" offset="0" target="P4" />
+  <magic name="PNM" offset="0" target="P5" />
+  <magic name="PNM" offset="0" target="P6" />
+  <magic name="PNM" offset="0" target="P7" />
+  <magic name="PS" offset="0" target="%!" />
+  <magic name="PS" offset="0" target="\004%!" />
+  <magic name="PS" offset="0" target="\305\320\323\306" />
+  <magic name="PSD" offset="0" target="8BPS" />
+  <magic name="PWP" offset="0" target="SFW95" />
+  <magic name="RAD" offset="0" target="#?RADIANCE" />
+  <magic name="RLE" offset="0" target="\122\314" />
+  <magic name="SCT" offset="0" target="CT" />
+  <magic name="SFW" offset="0" target="SFW94" />
+  <magic name="SGI" offset="0" target="\001\332" />
+  <magic name="SUN" offset="0" target="\131\246\152\225" />
+  <magic name="SVG" offset="1" target="?XML" />
+  <magic name="SVG" offset="1" target="?xml" />
+  <magic name="TIFF" offset="0" target="\115\115\000\052" />
+  <magic name="TIFF" offset="0" target="\111\111\052\000" />
+  <magic name="VICAR" offset="0" target="LBLSIZE" />
+  <magic name="VICAR" offset="0" target="NJPL1I" />
+  <magic name="VIFF" offset="0" target="\253\001" />
+  <magic name="WMF" offset="0" target="\327\315\306\232" />
+  <magic name="WMF" offset="0" target="\001\000\011\000" />
+  <magic name="WPG" offset="0" target="\377WPC" />
+  <magic name="XBM" offset="0" target="#define" />
+  <magic name="XCF" offset="0" target="gimp xcf" />
+  <magic name="XPM" offset="1" target="* XPM *" />
+  <magic name="XWD" offset="4" target="\007\000\000" />
+  <magic name="XWD" offset="5" target="\000\000\007" />
+</magicmap>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/bin/modules.mgk GraphicsMagick-1.3.7/VisualMagick/bin/modules.mgk
--- GraphicsMagick-1.3.7.orig/VisualMagick/bin/modules.mgk	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/bin/modules.mgk	2009-11-03 13:50:42 -0800
@@ -0,0 +1,90 @@
+<?xml version="1.0"?>
+<modulemap>
+  <module magick="8BIM" name="META" />
+  <module magick="8BIMTEXT" name="META" />
+  <module magick="8BIMWTEXT" name="META" />
+  <module magick="AFM" name="TTF" />
+  <module magick="APP1" name="META" />
+  <module magick="APP1JPEG" name="META" />
+  <module magick="B" name="GRAY" />
+  <module magick="BIE" name="JBIG" />
+  <module magick="C" name="GRAY" />
+  <module magick="CUR" name="ICON" />
+  <module magick="DCX" name="PCX" />
+  <module magick="EMF" name="EMF" />
+  <module magick="EPDF" name="PDF" />
+  <module magick="EPI" name="PS" />
+  <module magick="EPS" name="PS" />
+  <module magick="EPSF" name="PS" />
+  <module magick="EPSI" name="PS" />
+  <module magick="EPS2" name="PS2" />
+  <module magick="EPS3" name="PS3" />
+  <module magick="EXIF" name="META" />
+  <module magick="FILE" name="URL" />
+  <module magick="FRACTAL" name="PLASMA" />
+  <module magick="FTP" name="URL" />
+  <module magick="G" name="GRAY" />
+  <module magick="G3" name="FAX" />
+  <module magick="GIF87" name="GIF" />
+  <module magick="GRANITE" name="LOGO" />
+  <module magick="H" name="LOGO" />
+  <module magick="H5" name="HDF" />
+  <module magick="HTM" name="HTML" />
+  <module magick="HTTP" name="URL" />
+  <module magick="ICB" name="TGA" />
+  <module magick="ICC" name="META" />
+  <module magick="ICM" name="META" />
+  <module magick="ICO" name="ICON" />
+  <module magick="IMAGE" name="LOGO" />
+  <module magick="IMPLICIT" name="MIFF" />
+  <module magick="IPTC" name="META" />
+  <module magick="IPTCTEXT" name="META" />
+  <module magick="IPTCWTEXT" name="META" />
+  <module magick="JBG" name="JBIG" />
+  <module magick="JNG" name="PNG" />
+  <module magick="JPC" name="JP2" />
+  <module magick="JPG" name="JPEG" />
+  <module magick="K" name="GRAY" />
+  <module magick="M" name="GRAY" />
+  <module magick="M2V" name="MPEG" />
+  <module magick="MNG" name="PNG" />
+  <module magick="MPG" name="MPEG" />
+  <module magick="MPRI" name="MPR" />
+  <module magick="NETSCAPE" name="LOGO" />
+  <module magick="O" name="GRAY" />
+  <module magick="P7" name="PNM" />
+  <module magick="PAL" name="UYVY" />
+  <module magick="PATTERN" name="LOGO" />
+  <module magick="PBM" name="PNM" />
+  <module magick="PCDS" name="PCD" />
+  <module magick="PCT" name="PICT" />
+  <module magick="PFA" name="TTF" />
+  <module magick="PFB" name="TTF" />
+  <module magick="PFM" name="TTF" />
+  <module magick="PGM" name="PNM" />
+  <module magick="PGX" name="JP2" />
+  <module magick="PICON" name="XPM" />
+  <module magick="PM" name="XPM" />
+  <module magick="PNG8" name="PNG" />
+  <module magick="PNG24" name="PNG" />
+  <module magick="PNG32" name="PNG" />
+  <module magick="PPM" name="PNM" />
+  <module magick="PSD" name="PSD" />
+  <module magick="PTIF" name="TIFF" />
+  <module magick="R" name="GRAY" />
+  <module magick="RAS" name="SUN" />
+  <module magick="RGBA" name="RGB" />
+  <module magick="ROSE" name="LOGO" />
+  <module magick="SHTML" name="HTML" />
+  <module magick="SVGZ" name="SVG" />
+  <module magick="TEXT" name="TXT" />
+  <module magick="TIF" name="TIFF" />
+  <module magick="VDA" name="TGA" />
+  <module magick="VST" name="TGA" />
+  <module magick="WMFWIN32" name="EMF" />
+  <module magick="XMP" name="META" />
+  <module magick="XTRNARRAY" name="XTRN" />
+  <module magick="XTRNBSTR" name="XTRN" />
+  <module magick="XV" name="VIFF" />
+  <module magick="Y" name="GRAY" />
+</modulemap>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/bin/type-ghostscript.mgk GraphicsMagick-1.3.7/VisualMagick/bin/type-ghostscript.mgk
--- GraphicsMagick-1.3.7.orig/VisualMagick/bin/type-ghostscript.mgk	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/bin/type-ghostscript.mgk	2009-11-03 13:50:42 -0800
@@ -0,0 +1,402 @@
+<?xml version="1.0"?>
+<typemap>
+  <type
+    name="AvantGarde-Book"
+    fullname="AvantGarde Book"
+    family="AvantGarde"
+    foundry="URW"
+    weight="400"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@a010013l.afm"
+    glyphs="@ghostscript_font_dir@a010013l.pfb"
+    />
+  <type
+    name="AvantGarde-BookOblique"
+    fullname="AvantGarde Book Oblique"
+    family="AvantGarde"
+    foundry="URW"
+    weight="400"
+    style="oblique"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@a010033l.afm"
+    glyphs="@ghostscript_font_dir@a010033l.pfb"
+    />
+  <type
+    name="AvantGarde-Demi"
+    fullname="AvantGarde DemiBold"
+    family="AvantGarde"
+    foundry="URW"
+    weight="600"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@a010015l.afm"
+    glyphs="@ghostscript_font_dir@a010015l.pfb"
+    />
+  <type
+    name="AvantGarde-DemiOblique"
+    fullname="AvantGarde DemiOblique"
+    family="AvantGarde"
+    foundry="URW"
+    weight="600"
+    style="oblique"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@a010035l.afm"
+    glyphs="@ghostscript_font_dir@a010035l.pfb"
+    />
+  <type
+    name="Bookman-Demi"
+    fullname="Bookman DemiBold"
+    family="Bookman"
+    foundry="URW"
+    weight="600"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@b018015l.afm"
+    glyphs="@ghostscript_font_dir@b018015l.pfb"
+    />
+  <type
+    name="Bookman-DemiItalic"
+    fullname="Bookman DemiBold Italic"
+    family="Bookman"
+    foundry="URW"
+    weight="600"
+    style="italic"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@b018035l.afm"
+    glyphs="@ghostscript_font_dir@b018035l.pfb"
+    />
+  <type
+    name="Bookman-Light"
+    fullname="Bookman Light"
+    family="Bookman"
+    foundry="URW"
+    weight="300"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@b018012l.afm"
+    glyphs="@ghostscript_font_dir@b018012l.pfb"
+    />
+  <type
+    name="Bookman-LightItalic"
+    fullname="Bookman Light Italic"
+    family="Bookman"
+    foundry="URW"
+    weight="300"
+    style="italic"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@b018032l.afm"
+    glyphs="@ghostscript_font_dir@b018032l.pfb"
+    />
+  <type
+    name="Courier"
+    fullname="Courier Regular"
+    family="Courier"
+    foundry="URW"
+    weight="400"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@n022003l.afm"
+    glyphs="@ghostscript_font_dir@n022003l.pfb"
+    />
+  <type
+    name="Courier-Bold"
+    fullname="Courier Bold"
+    family="Courier"
+    foundry="URW"
+    weight="700"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@n022004l.afm"
+    glyphs="@ghostscript_font_dir@n022004l.pfb"
+    />
+  <type
+    name="Courier-Oblique"
+    fullname="Courier Regular Oblique"
+    family="Courier"
+    foundry="URW"
+    weight="400"
+    style="oblique"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@n022023l.afm"
+    glyphs="@ghostscript_font_dir@n022023l.pfb"
+    />
+  <type
+    name="Courier-BoldOblique"
+    fullname="Courier Bold Oblique"
+    family="Courier"
+    foundry="URW"
+    weight="700"
+    style="oblique"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@n022024l.afm"
+    glyphs="@ghostscript_font_dir@n022024l.pfb"
+    />
+  <type
+    name="Helvetica"
+    fullname="Helvetica Regular"
+    family="Helvetica"
+    foundry="URW"
+    weight="400"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@n019003l.afm"
+    glyphs="@ghostscript_font_dir@n019003l.pfb"
+    />
+  <type
+    name="Helvetica-Bold"
+    fullname="Helvetica Bold"
+    family="Helvetica"
+    foundry="URW"
+    weight="700"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@n019004l.afm"
+    glyphs="@ghostscript_font_dir@n019004l.pfb"
+    />
+  <type
+    name="Helvetica-Oblique"
+    fullname="Helvetica Regular Italic"
+    family="Helvetica"
+    foundry="URW"
+    weight="400"
+    style="italic"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@n019023l.afm"
+    glyphs="@ghostscript_font_dir@n019023l.pfb"
+    />
+  <type
+    name="Helvetica-BoldOblique"
+    fullname="Helvetica Bold Italic"
+    family="Helvetica"
+    foundry="URW"
+    weight="700"
+    style="italic"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@n019024l.afm"
+    glyphs="@ghostscript_font_dir@n019024l.pfb"
+    />
+  <type
+    name="Helvetica-Narrow"
+    fullname="Helvetica Narrow"
+    family="Helvetica Narrow"
+    foundry="URW"
+    weight="400"
+    style="normal"
+    stretch="condensed"
+    format="type1"
+    metrics="@ghostscript_font_dir@n019043l.afm"
+    glyphs="@ghostscript_font_dir@n019043l.pfb"
+    />
+  <type
+    name="Helvetica-Narrow-Oblique"
+    fullname="Helvetica Narrow Oblique"
+    family="Helvetica Narrow"
+    foundry="URW"
+    weight="400"
+    style="oblique"
+    stretch="condensed"
+    format="type1"
+    metrics="@ghostscript_font_dir@n019063l.afm"
+    glyphs="@ghostscript_font_dir@n019063l.pfb"
+    />
+  <type
+    name="Helvetica-Narrow-Bold"
+    fullname="Helvetica Narrow Bold"
+    family="Helvetica Narrow"
+    foundry="URW"
+    weight="700"
+    style="normal"
+    stretch="condensed"
+    format="type1"
+    metrics="@ghostscript_font_dir@n019044l.afm"
+    glyphs="@ghostscript_font_dir@n019044l.pfb"
+    />
+  <type
+    name="Helvetica-Narrow-BoldOblique"
+    fullname="Helvetica Narrow Bold Oblique"
+    family="Helvetica Narrow"
+    foundry="URW"
+    weight="700"
+    style="oblique"
+    stretch="condensed"
+    format="type1"
+    metrics="@ghostscript_font_dir@n019064l.afm"
+    glyphs="@ghostscript_font_dir@n019064l.pfb"
+    />
+  <type
+    name="NewCenturySchlbk-Roman"
+    fullname="New Century Schoolbook"
+    family="NewCenturySchlbk"
+    foundry="URW"
+    weight="400"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@c059013l.afm"
+    glyphs="@ghostscript_font_dir@c059013l.pfb"
+    />
+  <type
+    name="NewCenturySchlbk-Italic"
+    fullname="New Century Schoolbook Italic"
+    family="NewCenturySchlbk"
+    foundry="URW"
+    weight="400"
+    style="italic"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@c059033l.afm"
+    glyphs="@ghostscript_font_dir@c059033l.pfb"
+    />
+  <type
+    name="NewCenturySchlbk-Bold"
+    fullname="New Century Schoolbook Bold"
+    family="NewCenturySchlbk"
+    foundry="URW"
+    weight="700"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@c059016l.afm"
+    glyphs="@ghostscript_font_dir@c059016l.pfb"
+    />
+  <type
+    name="NewCenturySchlbk-BoldItalic"
+    fullname="New Century Schoolbook Bold Italic"
+    family="NewCenturySchlbk"
+    foundry="URW"
+    weight="700"
+    style="italic"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@c059036l.afm"
+    glyphs="@ghostscript_font_dir@c059036l.pfb"
+    />
+  <type
+    name="Palatino-Roman"
+    fullname="Palatino Regular"
+    family="Palatino"
+    foundry="URW"
+    weight="400"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@p052003l.afm"
+    glyphs="@ghostscript_font_dir@p052003l.pfb"
+    />
+  <type
+    name="Palatino-Italic"
+    fullname="Palatino Italic"
+    family="Palatino"
+    foundry="URW"
+    weight="400"
+    style="italic"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@p052023l.afm"
+    glyphs="@ghostscript_font_dir@p052023l.pfb"
+    />
+  <type
+    name="Palatino-Bold"
+    fullname="Palatino Bold"
+    family="Palatino"
+    foundry="URW"
+    weight="700"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@p052004l.afm"
+    glyphs="@ghostscript_font_dir@p052004l.pfb"
+    />
+  <type
+    name="Palatino-BoldItalic"
+    fullname="Palatino Bold Italic"
+    family="Palatino"
+    foundry="URW"
+    weight="700"
+    style="italic"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@p052024l.afm"
+    glyphs="@ghostscript_font_dir@p052024l.pfb"
+    />
+  <type
+    name="Times-Roman"
+    fullname="Times Regular"
+    family="Times"
+    foundry="URW"
+    weight="400"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@n021003l.afm"
+    glyphs="@ghostscript_font_dir@n021003l.pfb"
+    />
+  <type
+    name="Times-Bold"
+    fullname="Times Medium"
+    family="Times"
+    foundry="URW"
+    weight="700"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@n021004l.afm"
+    glyphs="@ghostscript_font_dir@n021004l.pfb"
+    />
+  <type
+    name="Times-Italic"
+    fullname="Times Regular Italic"
+    family="Times"
+    foundry="URW"
+    weight="400"
+    style="italic"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@n021023l.afm"
+    glyphs="@ghostscript_font_dir@n021023l.pfb"
+    />
+  <type
+    name="Times-BoldItalic"
+    fullname="Times Medium Italic"
+    family="Times"
+    foundry="URW"
+    weight="700"
+    style="italic"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@n021024l.afm"
+    glyphs="@ghostscript_font_dir@n021024l.pfb"
+    />
+  <type
+    name="Symbol"
+    fullname="Symbol"
+    family="Symbol"
+    foundry="URW"
+    weight="400"
+    style="normal"
+    stretch="normal"
+    format="type1"
+    metrics="@ghostscript_font_dir@s050000l.afm"
+    glyphs="@ghostscript_font_dir@s050000l.pfb"
+    version="0.1"
+    encoding="AdobeCustom"
+    />
+</typemap>
+
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/bin/type.mgk GraphicsMagick-1.3.7/VisualMagick/bin/type.mgk
--- GraphicsMagick-1.3.7.orig/VisualMagick/bin/type.mgk	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/bin/type.mgk	2009-11-03 13:50:43 -0800
@@ -0,0 +1,4 @@
+<?xml version="1.0"?>
+<typemap>
+  <include file="type-ghostscript.mgk" />
+</typemap>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/coders/CORE_coders_xt_lib.vcproj GraphicsMagick-1.3.7/VisualMagick/coders/CORE_coders_xt_lib.vcproj
--- GraphicsMagick-1.3.7.orig/VisualMagick/coders/CORE_coders_xt_lib.vcproj	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/coders/CORE_coders_xt_lib.vcproj	2009-11-03 13:49:40 -0800
@@ -0,0 +1,583 @@
+<?xml version="1.0" encoding="Windows-1252"?>
+<VisualStudioProject
+	ProjectType="Visual C++"
+	Version="9.00"
+	Name="CORE_coders"
+	ProjectGUID="{6A00408B-3AA6-495B-BEBA-2ED40FC5B5ED}"
+	Keyword="Win32Proj"
+	TargetFrameworkVersion="131072"
+	>
+	<Platforms>
+		<Platform
+			Name="Win32"
+		/>
+	</Platforms>
+	<ToolFiles>
+	</ToolFiles>
+	<Configurations>
+		<Configuration
+			Name="Release|Win32"
+			OutputDirectory="..\lib\"
+			IntermediateDirectory="..\Release\CORE_coders"
+			ConfigurationType="4"
+			InheritedPropertySheets="$(VCInstallDir)VCProjectDefaults\UpgradeFromVC70.vsprops"
+			UseOfMFC="0"
+			ATLMinimizesCRunTimeLibraryUsage="false"
+			CharacterSet="2"
+			>
+			<Tool
+				Name="VCPreBuildEventTool"
+			/>
+			<Tool
+				Name="VCCustomBuildTool"
+			/>
+			<Tool
+				Name="VCXMLDataGeneratorTool"
+			/>
+			<Tool
+				Name="VCWebServiceProxyGeneratorTool"
+			/>
+			<Tool
+				Name="VCMIDLTool"
+			/>
+			<Tool
+				Name="VCCLCompilerTool"
+				Optimization="3"
+				InlineFunctionExpansion="2"
+				OmitFramePointers="true"
+				AdditionalIncludeDirectories="..\..,..\..\xlib,..\..\Magick++\lib,..\..\zlib,..\..\bzlib,..\..\jpeg,..\..\lcms\src,..\..\lcms\include,..\..\ttf\include,..\..\ttf\include\freetype,..\..\ttf\include\freetype\cache,..\..\ttf\include\freetype\config,..\..\ttf\include\freetype\internal,..\..\libxml\include,..\..\libxml\include\libxml,..\..\coders,..\..\wmf,..\..\wmf\include,..\..\tiff,..\..\tiff\libtiff,..\..\png,..\..\fpx,..\..\fpx\basics,..\..\fpx\fpx,..\..\fpx\jpeg,..\..\fpx\ole,..\..\fpx\ri_image,..\..\jbig,..\..\jbig\libjbig,..\..\jp2,..\..\jp2\src,..\..\jp2\src\libjasper,..\..\jp2\src\libjasper\base,..\..\jp2\src\libjasper\include,..\..\jp2\src\libjasper\include\jasper,..\..\jp2\src\libjasper\jp2,..\..\jp2\src\libjasper\jpc"
+				PreprocessorDefinitions="NDEBUG;_WINDOWS;WIN32;_VISUALC_;NeedFunctionPrototypes;_LIB"
+				StringPooling="true"
+				BasicRuntimeChecks="0"
+				RuntimeLibrary="0"
+				EnableFunctionLevelLinking="true"
+				UsePrecompiledHeader="0"
+				WarningLevel="3"
+				SuppressStartupBanner="true"
+				DebugInformationFormat="3"
+				CompileAs="0"
+			/>
+			<Tool
+				Name="VCManagedResourceCompilerTool"
+			/>
+			<Tool
+				Name="VCResourceCompilerTool"
+				PreprocessorDefinitions="NDEBUG"
+				Culture="1033"
+			/>
+			<Tool
+				Name="VCPreLinkEventTool"
+			/>
+			<Tool
+				Name="VCLibrarianTool"
+				AdditionalDependencies=""
+				OutputFile="..\lib\CORE_RL_coders_.lib"
+				SuppressStartupBanner="true"
+			/>
+			<Tool
+				Name="VCALinkTool"
+			/>
+			<Tool
+				Name="VCXDCMakeTool"
+			/>
+			<Tool
+				Name="VCBscMakeTool"
+			/>
+			<Tool
+				Name="VCFxCopTool"
+			/>
+			<Tool
+				Name="VCPostBuildEventTool"
+			/>
+		</Configuration>
+		<Configuration
+			Name="Debug|Win32"
+			OutputDirectory="..\lib\"
+			IntermediateDirectory="..\Debug\CORE_coders"
+			ConfigurationType="4"
+			InheritedPropertySheets="$(VCInstallDir)VCProjectDefaults\UpgradeFromVC70.vsprops"
+			UseOfMFC="0"
+			ATLMinimizesCRunTimeLibraryUsage="false"
+			CharacterSet="2"
+			>
+			<Tool
+				Name="VCPreBuildEventTool"
+			/>
+			<Tool
+				Name="VCCustomBuildTool"
+			/>
+			<Tool
+				Name="VCXMLDataGeneratorTool"
+			/>
+			<Tool
+				Name="VCWebServiceProxyGeneratorTool"
+			/>
+			<Tool
+				Name="VCMIDLTool"
+			/>
+			<Tool
+				Name="VCCLCompilerTool"
+				Optimization="0"
+				InlineFunctionExpansion="2"
+				OmitFramePointers="false"
+				AdditionalIncludeDirectories="..\..,..\..,LIBPNG_INCLUDE_PATH,..\..\Magick++\lib,ZLIB_INCLUDE_PATH,..\..\bzlib,JPEG_INCLUDE_PATH,..\..\lcms\src,..\..\lcms\include,..\..\ttf\include,..\..\ttf\include\freetype,..\..\ttf\include\freetype\cache,..\..\ttf\include\freetype\config,..\..\ttf\include\freetype\internal,..\..\libxml\include,..\..\libxml\include\libxml,..\..\magick"
+				PreprocessorDefinitions="_DEBUG;_WINDOWS;WIN32;_VISUALC_;NeedFunctionPrototypes;_LIB"
+				StringPooling="true"
+				BasicRuntimeChecks="3"
+				RuntimeLibrary="1"
+				EnableFunctionLevelLinking="true"
+				UsePrecompiledHeader="0"
+				WarningLevel="3"
+				SuppressStartupBanner="true"
+				DebugInformationFormat="3"
+				CompileAs="0"
+			/>
+			<Tool
+				Name="VCManagedResourceCompilerTool"
+			/>
+			<Tool
+				Name="VCResourceCompilerTool"
+				PreprocessorDefinitions="_DEBUG"
+				Culture="1033"
+			/>
+			<Tool
+				Name="VCPreLinkEventTool"
+			/>
+			<Tool
+				Name="VCLibrarianTool"
+				AdditionalDependencies=""
+				OutputFile="..\lib\CORE_DB_coders_.lib"
+				SuppressStartupBanner="true"
+			/>
+			<Tool
+				Name="VCALinkTool"
+			/>
+			<Tool
+				Name="VCXDCMakeTool"
+			/>
+			<Tool
+				Name="VCBscMakeTool"
+			/>
+			<Tool
+				Name="VCFxCopTool"
+			/>
+			<Tool
+				Name="VCPostBuildEventTool"
+			/>
+		</Configuration>
+	</Configurations>
+	<References>
+	</References>
+	<Files>
+		<Filter
+			Name="src"
+			>
+			<File
+				RelativePath="..\..\coders\art.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\avi.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\avs.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\bmp.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\cals.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\caption.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\cineon.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\clipboard.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\cmyk.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\cut.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\dcm.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\dcraw.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\dib.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\dps.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\dpx.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\emf.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\ept.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\fax.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\fits.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\fpx.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\gif.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\gradient.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\gray.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\hdf.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\histogram.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\hrz.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\html.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\icon.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\identity.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\jbig.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\jp2.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\jpeg.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\label.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\locale.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\logo.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\map.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\mat.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\matte.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\meta.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\miff.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\mono.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\mpc.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\mpeg.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\mpr.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\msl.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\mtv.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\mvg.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\null.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\otb.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\palm.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\pcd.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\pcl.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\pcx.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\pdb.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\pdf.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\pict.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\pix.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\plasma.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\png.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\pnm.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\preview.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\ps.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\ps2.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\ps3.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\psd.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\pwp.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\rgb.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\rla.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\rle.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\sct.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\sfw.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\sgi.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\stegano.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\sun.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\svg.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\tga.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\tiff.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\tile.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\tim.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\topol.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\ttf.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\txt.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\uil.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\url.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\uyvy.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\vicar.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\vid.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\viff.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\wbmp.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\wmf.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\wpg.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\x.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\xbm.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\xc.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\xcf.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\xpm.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\xtrn.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\xwd.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\coders\yuv.c"
+				>
+			</File>
+		</Filter>
+		<Filter
+			Name="include"
+			>
+		</Filter>
+		<Filter
+			Name="resource"
+			>
+		</Filter>
+	</Files>
+	<Globals>
+	</Globals>
+</VisualStudioProject>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/coders/CORE_coders_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user GraphicsMagick-1.3.7/VisualMagick/coders/CORE_coders_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user
--- GraphicsMagick-1.3.7.orig/VisualMagick/coders/CORE_coders_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/coders/CORE_coders_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user	2009-11-03 13:49:40 -0800
@@ -0,0 +1,65 @@
+<?xml version="1.0" encoding="Windows-1252"?>
+<VisualStudioUserFile
+	ProjectType="Visual C++"
+	Version="9.00"
+	ShowAllFiles="false"
+	>
+	<Configurations>
+		<Configuration
+			Name="Release|Win32"
+			>
+			<DebugSettings
+				Command=""
+				WorkingDirectory=""
+				CommandArguments=""
+				Attach="false"
+				DebuggerType="3"
+				Remote="1"
+				RemoteMachine="WIN-BKLP8A0R3G4"
+				RemoteCommand=""
+				HttpUrl=""
+				PDBPath=""
+				SQLDebugging=""
+				Environment=""
+				EnvironmentMerge="true"
+				DebuggerFlavor=""
+				MPIRunCommand=""
+				MPIRunArguments=""
+				MPIRunWorkingDirectory=""
+				ApplicationCommand=""
+				ApplicationArguments=""
+				ShimCommand=""
+				MPIAcceptMode=""
+				MPIAcceptFilter=""
+			/>
+		</Configuration>
+		<Configuration
+			Name="Debug|Win32"
+			>
+			<DebugSettings
+				Command=""
+				WorkingDirectory=""
+				CommandArguments=""
+				Attach="false"
+				DebuggerType="3"
+				Remote="1"
+				RemoteMachine="WIN-BKLP8A0R3G4"
+				RemoteCommand=""
+				HttpUrl=""
+				PDBPath=""
+				SQLDebugging=""
+				Environment=""
+				EnvironmentMerge="true"
+				DebuggerFlavor=""
+				MPIRunCommand=""
+				MPIRunArguments=""
+				MPIRunWorkingDirectory=""
+				ApplicationCommand=""
+				ApplicationArguments=""
+				ShimCommand=""
+				MPIAcceptMode=""
+				MPIAcceptFilter=""
+			/>
+		</Configuration>
+	</Configurations>
+</VisualStudioUserFile>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/filters/CORE_filters_xt_lib.vcproj GraphicsMagick-1.3.7/VisualMagick/filters/CORE_filters_xt_lib.vcproj
--- GraphicsMagick-1.3.7.orig/VisualMagick/filters/CORE_filters_xt_lib.vcproj	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/filters/CORE_filters_xt_lib.vcproj	2009-11-03 13:49:40 -0800
@@ -0,0 +1,191 @@
+<?xml version="1.0" encoding="Windows-1252"?>
+<VisualStudioProject
+	ProjectType="Visual C++"
+	Version="9.00"
+	Name="CORE_filters"
+	ProjectGUID="{5F22C602-6D6C-47D7-B41B-403A8E7062A3}"
+	Keyword="Win32Proj"
+	TargetFrameworkVersion="131072"
+	>
+	<Platforms>
+		<Platform
+			Name="Win32"
+		/>
+	</Platforms>
+	<ToolFiles>
+	</ToolFiles>
+	<Configurations>
+		<Configuration
+			Name="Release|Win32"
+			OutputDirectory="..\lib\"
+			IntermediateDirectory="..\Release\CORE_filters"
+			ConfigurationType="4"
+			InheritedPropertySheets="$(VCInstallDir)VCProjectDefaults\UpgradeFromVC70.vsprops"
+			UseOfMFC="0"
+			ATLMinimizesCRunTimeLibraryUsage="false"
+			CharacterSet="2"
+			>
+			<Tool
+				Name="VCPreBuildEventTool"
+			/>
+			<Tool
+				Name="VCCustomBuildTool"
+			/>
+			<Tool
+				Name="VCXMLDataGeneratorTool"
+			/>
+			<Tool
+				Name="VCWebServiceProxyGeneratorTool"
+			/>
+			<Tool
+				Name="VCMIDLTool"
+			/>
+			<Tool
+				Name="VCCLCompilerTool"
+				Optimization="3"
+				InlineFunctionExpansion="2"
+				OmitFramePointers="true"
+				AdditionalIncludeDirectories="..\..,..\..\xlib,..\..\Magick++\lib,..\..\zlib,..\..\bzlib,..\..\jpeg,..\..\lcms\src,..\..\lcms\include,..\..\ttf\include,..\..\ttf\include\freetype,..\..\ttf\include\freetype\cache,..\..\ttf\include\freetype\config,..\..\ttf\include\freetype\internal,..\..\libxml\include,..\..\libxml\include\libxml,..\..\filters,..\..\wmf,..\..\wmf\include,..\..\tiff,..\..\tiff\libtiff,..\..\png,..\..\fpx,..\..\fpx\basics,..\..\fpx\fpx,..\..\fpx\jpeg,..\..\fpx\ole,..\..\fpx\ri_image,..\..\jbig,..\..\jbig\libjbig,..\..\jp2,..\..\jp2\src,..\..\jp2\src\libjasper,..\..\jp2\src\libjasper\base,..\..\jp2\src\libjasper\include,..\..\jp2\src\libjasper\include\jasper,..\..\jp2\src\libjasper\jp2,..\..\jp2\src\libjasper\jpc"
+				PreprocessorDefinitions="NDEBUG;_WINDOWS;WIN32;_VISUALC_;NeedFunctionPrototypes;_LIB"
+				StringPooling="true"
+				BasicRuntimeChecks="0"
+				RuntimeLibrary="0"
+				EnableFunctionLevelLinking="true"
+				UsePrecompiledHeader="0"
+				WarningLevel="3"
+				SuppressStartupBanner="true"
+				DebugInformationFormat="3"
+				CompileAs="0"
+			/>
+			<Tool
+				Name="VCManagedResourceCompilerTool"
+			/>
+			<Tool
+				Name="VCResourceCompilerTool"
+				PreprocessorDefinitions="NDEBUG"
+				Culture="1033"
+			/>
+			<Tool
+				Name="VCPreLinkEventTool"
+			/>
+			<Tool
+				Name="VCLibrarianTool"
+				AdditionalDependencies=""
+				OutputFile="..\lib\CORE_RL_filters_.lib"
+				SuppressStartupBanner="true"
+			/>
+			<Tool
+				Name="VCALinkTool"
+			/>
+			<Tool
+				Name="VCXDCMakeTool"
+			/>
+			<Tool
+				Name="VCBscMakeTool"
+			/>
+			<Tool
+				Name="VCFxCopTool"
+			/>
+			<Tool
+				Name="VCPostBuildEventTool"
+			/>
+		</Configuration>
+		<Configuration
+			Name="Debug|Win32"
+			OutputDirectory="..\lib\"
+			IntermediateDirectory="..\Debug\CORE_filters"
+			ConfigurationType="4"
+			InheritedPropertySheets="$(VCInstallDir)VCProjectDefaults\UpgradeFromVC70.vsprops"
+			UseOfMFC="0"
+			ATLMinimizesCRunTimeLibraryUsage="false"
+			CharacterSet="2"
+			>
+			<Tool
+				Name="VCPreBuildEventTool"
+			/>
+			<Tool
+				Name="VCCustomBuildTool"
+			/>
+			<Tool
+				Name="VCXMLDataGeneratorTool"
+			/>
+			<Tool
+				Name="VCWebServiceProxyGeneratorTool"
+			/>
+			<Tool
+				Name="VCMIDLTool"
+			/>
+			<Tool
+				Name="VCCLCompilerTool"
+				Optimization="0"
+				InlineFunctionExpansion="2"
+				OmitFramePointers="false"
+				AdditionalIncludeDirectories="..\..,..\..,LIBPNG_INCLUDE_PATH,..\..\Magick++\lib,ZLIB_INCLUDE_PATH,..\..\bzlib,JPEG_INCLUDE_PATH,..\..\lcms\src,..\..\lcms\include,..\..\ttf\include,..\..\ttf\include\freetype,..\..\ttf\include\freetype\cache,..\..\ttf\include\freetype\config,..\..\ttf\include\freetype\internal,..\..\libxml\include,..\..\libxml\include\libxml,..\..\magick"
+				PreprocessorDefinitions="_DEBUG;_WINDOWS;WIN32;_VISUALC_;NeedFunctionPrototypes;_LIB"
+				StringPooling="true"
+				BasicRuntimeChecks="3"
+				RuntimeLibrary="1"
+				EnableFunctionLevelLinking="true"
+				UsePrecompiledHeader="0"
+				WarningLevel="3"
+				SuppressStartupBanner="true"
+				DebugInformationFormat="3"
+				CompileAs="0"
+			/>
+			<Tool
+				Name="VCManagedResourceCompilerTool"
+			/>
+			<Tool
+				Name="VCResourceCompilerTool"
+				PreprocessorDefinitions="_DEBUG"
+				Culture="1033"
+			/>
+			<Tool
+				Name="VCPreLinkEventTool"
+			/>
+			<Tool
+				Name="VCLibrarianTool"
+				AdditionalDependencies=""
+				OutputFile="..\lib\CORE_DB_filters_.lib"
+				SuppressStartupBanner="true"
+			/>
+			<Tool
+				Name="VCALinkTool"
+			/>
+			<Tool
+				Name="VCXDCMakeTool"
+			/>
+			<Tool
+				Name="VCBscMakeTool"
+			/>
+			<Tool
+				Name="VCFxCopTool"
+			/>
+			<Tool
+				Name="VCPostBuildEventTool"
+			/>
+		</Configuration>
+	</Configurations>
+	<References>
+	</References>
+	<Files>
+		<Filter
+			Name="src"
+			>
+			<File
+				RelativePath="..\..\filters\analyze.c"
+				>
+			</File>
+		</Filter>
+		<Filter
+			Name="include"
+			>
+		</Filter>
+		<Filter
+			Name="resource"
+			>
+		</Filter>
+	</Files>
+	<Globals>
+	</Globals>
+</VisualStudioProject>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/filters/CORE_filters_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user GraphicsMagick-1.3.7/VisualMagick/filters/CORE_filters_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user
--- GraphicsMagick-1.3.7.orig/VisualMagick/filters/CORE_filters_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/filters/CORE_filters_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user	2009-11-03 13:49:40 -0800
@@ -0,0 +1,65 @@
+<?xml version="1.0" encoding="Windows-1252"?>
+<VisualStudioUserFile
+	ProjectType="Visual C++"
+	Version="9.00"
+	ShowAllFiles="false"
+	>
+	<Configurations>
+		<Configuration
+			Name="Release|Win32"
+			>
+			<DebugSettings
+				Command=""
+				WorkingDirectory=""
+				CommandArguments=""
+				Attach="false"
+				DebuggerType="3"
+				Remote="1"
+				RemoteMachine="WIN-BKLP8A0R3G4"
+				RemoteCommand=""
+				HttpUrl=""
+				PDBPath=""
+				SQLDebugging=""
+				Environment=""
+				EnvironmentMerge="true"
+				DebuggerFlavor=""
+				MPIRunCommand=""
+				MPIRunArguments=""
+				MPIRunWorkingDirectory=""
+				ApplicationCommand=""
+				ApplicationArguments=""
+				ShimCommand=""
+				MPIAcceptMode=""
+				MPIAcceptFilter=""
+			/>
+		</Configuration>
+		<Configuration
+			Name="Debug|Win32"
+			>
+			<DebugSettings
+				Command=""
+				WorkingDirectory=""
+				CommandArguments=""
+				Attach="false"
+				DebuggerType="3"
+				Remote="1"
+				RemoteMachine="WIN-BKLP8A0R3G4"
+				RemoteCommand=""
+				HttpUrl=""
+				PDBPath=""
+				SQLDebugging=""
+				Environment=""
+				EnvironmentMerge="true"
+				DebuggerFlavor=""
+				MPIRunCommand=""
+				MPIRunArguments=""
+				MPIRunWorkingDirectory=""
+				ApplicationCommand=""
+				ApplicationArguments=""
+				ShimCommand=""
+				MPIAcceptMode=""
+				MPIAcceptFilter=""
+			/>
+		</Configuration>
+	</Configurations>
+</VisualStudioUserFile>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/magick/CORE_magick_xt_lib.vcproj GraphicsMagick-1.3.7/VisualMagick/magick/CORE_magick_xt_lib.vcproj
--- GraphicsMagick-1.3.7.orig/VisualMagick/magick/CORE_magick_xt_lib.vcproj	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/magick/CORE_magick_xt_lib.vcproj	2009-11-03 13:49:40 -0800
@@ -0,0 +1,819 @@
+<?xml version="1.0" encoding="Windows-1252"?>
+<VisualStudioProject
+	ProjectType="Visual C++"
+	Version="9.00"
+	Name="CORE_magick"
+	ProjectGUID="{51AC5B69-CADA-4FF2-BC36-E8152B550950}"
+	Keyword="Win32Proj"
+	TargetFrameworkVersion="131072"
+	>
+	<Platforms>
+		<Platform
+			Name="Win32"
+		/>
+	</Platforms>
+	<ToolFiles>
+	</ToolFiles>
+	<Configurations>
+		<Configuration
+			Name="Release|Win32"
+			OutputDirectory="..\lib\"
+			IntermediateDirectory="..\Release\CORE_magick"
+			ConfigurationType="4"
+			InheritedPropertySheets="$(VCInstallDir)VCProjectDefaults\UpgradeFromVC70.vsprops"
+			UseOfMFC="0"
+			ATLMinimizesCRunTimeLibraryUsage="false"
+			CharacterSet="2"
+			>
+			<Tool
+				Name="VCPreBuildEventTool"
+			/>
+			<Tool
+				Name="VCCustomBuildTool"
+			/>
+			<Tool
+				Name="VCXMLDataGeneratorTool"
+			/>
+			<Tool
+				Name="VCWebServiceProxyGeneratorTool"
+			/>
+			<Tool
+				Name="VCMIDLTool"
+			/>
+			<Tool
+				Name="VCCLCompilerTool"
+				Optimization="3"
+				InlineFunctionExpansion="2"
+				OmitFramePointers="true"
+				AdditionalIncludeDirectories="..\..,..\..\xlib,..\..\Magick++\lib,..\..\zlib,..\..\bzlib,..\..\jpeg,..\..\lcms\src,..\..\lcms\include,..\..\ttf\include,..\..\ttf\include\freetype,..\..\ttf\include\freetype\cache,..\..\ttf\include\freetype\config,..\..\ttf\include\freetype\internal,..\..\libxml\include,..\..\libxml\include\libxml,..\..\magick"
+				PreprocessorDefinitions="NDEBUG;_WINDOWS;WIN32;_VISUALC_;NeedFunctionPrototypes;_LIB;_MAGICKLIB_;_CRT_SECURE_NO_WARNINGS;_CRT_NONSTDC_NO_WARNINGS"
+				StringPooling="true"
+				BasicRuntimeChecks="0"
+				RuntimeLibrary="0"
+				EnableFunctionLevelLinking="true"
+				UsePrecompiledHeader="0"
+				WarningLevel="3"
+				SuppressStartupBanner="true"
+				DebugInformationFormat="3"
+				CompileAs="0"
+			/>
+			<Tool
+				Name="VCManagedResourceCompilerTool"
+			/>
+			<Tool
+				Name="VCResourceCompilerTool"
+				PreprocessorDefinitions="NDEBUG"
+				Culture="1033"
+			/>
+			<Tool
+				Name="VCPreLinkEventTool"
+			/>
+			<Tool
+				Name="VCLibrarianTool"
+				AdditionalDependencies=""
+				OutputFile="..\lib\CORE_RL_magick_.lib"
+				SuppressStartupBanner="true"
+			/>
+			<Tool
+				Name="VCALinkTool"
+			/>
+			<Tool
+				Name="VCXDCMakeTool"
+			/>
+			<Tool
+				Name="VCBscMakeTool"
+			/>
+			<Tool
+				Name="VCFxCopTool"
+			/>
+			<Tool
+				Name="VCPostBuildEventTool"
+			/>
+		</Configuration>
+		<Configuration
+			Name="Debug|Win32"
+			OutputDirectory="..\lib\"
+			IntermediateDirectory="..\Debug\CORE_magick"
+			ConfigurationType="4"
+			InheritedPropertySheets="$(VCInstallDir)VCProjectDefaults\UpgradeFromVC70.vsprops"
+			UseOfMFC="0"
+			ATLMinimizesCRunTimeLibraryUsage="false"
+			CharacterSet="2"
+			>
+			<Tool
+				Name="VCPreBuildEventTool"
+			/>
+			<Tool
+				Name="VCCustomBuildTool"
+			/>
+			<Tool
+				Name="VCXMLDataGeneratorTool"
+			/>
+			<Tool
+				Name="VCWebServiceProxyGeneratorTool"
+			/>
+			<Tool
+				Name="VCMIDLTool"
+			/>
+			<Tool
+				Name="VCCLCompilerTool"
+				Optimization="0"
+				InlineFunctionExpansion="2"
+				OmitFramePointers="false"
+				AdditionalIncludeDirectories="..\..,LIBPNG_INCLUDE_PATH,..\..\Magick++\lib,ZLIB_INCLUDE_PATH,..\..\bzlib,JPEG_INCLUDE_PATH,..\..\lcms\src,..\..\lcms\include,..\..\ttf\include,..\..\ttf\include\freetype,..\..\ttf\include\freetype\cache,..\..\ttf\include\freetype\config,..\..\ttf\include\freetype\internal,..\..\libxml\include,..\..\libxml\include\libxml,..\..\magick"
+				PreprocessorDefinitions="_DEBUG;_WINDOWS;WIN32;_VISUALC_;NeedFunctionPrototypes;_LIB;_MAGICKLIB_;_CRT_SECURE_NO_WARNINGS;_CRT_NONSTDC_NO_WARNINGS"
+				StringPooling="true"
+				BasicRuntimeChecks="3"
+				RuntimeLibrary="1"
+				EnableFunctionLevelLinking="true"
+				UsePrecompiledHeader="0"
+				WarningLevel="3"
+				SuppressStartupBanner="true"
+				DebugInformationFormat="3"
+				CompileAs="0"
+			/>
+			<Tool
+				Name="VCManagedResourceCompilerTool"
+			/>
+			<Tool
+				Name="VCResourceCompilerTool"
+				PreprocessorDefinitions="_DEBUG"
+				Culture="1033"
+			/>
+			<Tool
+				Name="VCPreLinkEventTool"
+			/>
+			<Tool
+				Name="VCLibrarianTool"
+				AdditionalDependencies=""
+				OutputFile="..\lib\CORE_DB_magick_.lib"
+				SuppressStartupBanner="true"
+			/>
+			<Tool
+				Name="VCALinkTool"
+			/>
+			<Tool
+				Name="VCXDCMakeTool"
+			/>
+			<Tool
+				Name="VCBscMakeTool"
+			/>
+			<Tool
+				Name="VCFxCopTool"
+			/>
+			<Tool
+				Name="VCPostBuildEventTool"
+			/>
+		</Configuration>
+	</Configurations>
+	<References>
+	</References>
+	<Files>
+		<Filter
+			Name="src"
+			>
+			<File
+				RelativePath="..\..\magick\animate.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\annotate.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\attribute.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\average.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\bit_stream.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\blob.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\cdl.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\channel.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\color.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\colormap.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\colorspace.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\command.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\compare.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\composite.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\compress.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\confirm_access.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\constitute.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\decorate.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\delegate.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\deprecate.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\describe.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\display.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\draw.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\effect.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\enhance.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\enum_strings.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\error.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\fx.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\gem.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\gradient.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\hclut.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\image.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\list.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\locale.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\log.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\magic.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\magick.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\magick_endian.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\map.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\memory.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\module.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\monitor.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\montage.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\nt_base.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\nt_feature.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\omp_data_view.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\operator.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\paint.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\pixel_cache.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\pixel_iterator.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\plasma.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\PreRvIcccm.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\profile.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\quantize.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\random.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\registry.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\render.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\resize.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\resource.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\segment.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\semaphore.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\shear.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\signature.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\static.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\statistics.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\tempfile.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\texture.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\timer.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\transform.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\tsd.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\type.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\unix_port.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\utility.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\version.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\widget.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\xwindow.c"
+				>
+			</File>
+		</Filter>
+		<Filter
+			Name="include"
+			>
+			<File
+				RelativePath="..\..\magick\alpha_composite.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\animate.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\api.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\attribute.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\average.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\bit_stream.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\blob.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\cdl.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\channel.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\color.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\colormap.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\colorspace.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\command.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\compare.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\composite.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\compress.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\confirm_access.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\constitute.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\decorate.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\delegate.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\deprecate.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\describe.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\display.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\draw.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\effect.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\enhance.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\enum_strings.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\error.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\forward.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\fx.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\gem.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\gradient.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\hclut.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\image.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\list.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\locale_c.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\log.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\magic.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\magick.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\magick_config.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\magick_endian.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\magick_types.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\map.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\memory.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\module.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\monitor.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\montage.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\nt_base.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\nt_feature.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\omp_data_view.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\operator.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\paint.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\pixel_cache.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\pixel_iterator.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\plasma.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\PreRvIcccm.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\profile.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\quantize.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\random.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\registry.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\render.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\resize.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\resource.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\semaphore.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\shear.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\signature.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\spinlock.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\static.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\statistics.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\studio.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\symbols.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\tempfile.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\texture.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\timer.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\transform.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\tsd.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\unix_port.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\utility.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\version.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\widget.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\magick\xwindow.h"
+				>
+			</File>
+		</Filter>
+		<Filter
+			Name="resource"
+			>
+			<File
+				RelativePath="..\..\magick\ImageMagick.rc"
+				>
+			</File>
+		</Filter>
+	</Files>
+	<Globals>
+	</Globals>
+</VisualStudioProject>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/magick/CORE_magick_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user GraphicsMagick-1.3.7/VisualMagick/magick/CORE_magick_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user
--- GraphicsMagick-1.3.7.orig/VisualMagick/magick/CORE_magick_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/magick/CORE_magick_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user	2009-11-03 13:49:40 -0800
@@ -0,0 +1,65 @@
+<?xml version="1.0" encoding="Windows-1252"?>
+<VisualStudioUserFile
+	ProjectType="Visual C++"
+	Version="9.00"
+	ShowAllFiles="false"
+	>
+	<Configurations>
+		<Configuration
+			Name="Release|Win32"
+			>
+			<DebugSettings
+				Command=""
+				WorkingDirectory=""
+				CommandArguments=""
+				Attach="false"
+				DebuggerType="3"
+				Remote="1"
+				RemoteMachine="WIN-BKLP8A0R3G4"
+				RemoteCommand=""
+				HttpUrl=""
+				PDBPath=""
+				SQLDebugging=""
+				Environment=""
+				EnvironmentMerge="true"
+				DebuggerFlavor=""
+				MPIRunCommand=""
+				MPIRunArguments=""
+				MPIRunWorkingDirectory=""
+				ApplicationCommand=""
+				ApplicationArguments=""
+				ShimCommand=""
+				MPIAcceptMode=""
+				MPIAcceptFilter=""
+			/>
+		</Configuration>
+		<Configuration
+			Name="Debug|Win32"
+			>
+			<DebugSettings
+				Command=""
+				WorkingDirectory=""
+				CommandArguments=""
+				Attach="false"
+				DebuggerType="3"
+				Remote="1"
+				RemoteMachine="WIN-BKLP8A0R3G4"
+				RemoteCommand=""
+				HttpUrl=""
+				PDBPath=""
+				SQLDebugging=""
+				Environment=""
+				EnvironmentMerge="true"
+				DebuggerFlavor=""
+				MPIRunCommand=""
+				MPIRunArguments=""
+				MPIRunWorkingDirectory=""
+				ApplicationCommand=""
+				ApplicationArguments=""
+				ShimCommand=""
+				MPIAcceptMode=""
+				MPIAcceptFilter=""
+			/>
+		</Configuration>
+	</Configurations>
+</VisualStudioUserFile>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/magick/magick_config.h.in GraphicsMagick-1.3.7/VisualMagick/magick/magick_config.h.in
--- GraphicsMagick-1.3.7.orig/VisualMagick/magick/magick_config.h.in	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/magick/magick_config.h.in	2009-11-03 13:49:40 -0800
@@ -0,0 +1,213 @@
+// This may look like C code, but it is really -*- C++ -*-
+//
+// Copyright (C) 2003, 2004 GraphicsMagick Group
+// Copyright (C) 2002 ImageMagick Studio
+// Copyright 1991-1999 E. I. du Pont de Nemours and Company
+//
+// This program is covered by multiple licenses, which are described in
+// Copyright.txt. You should have received a copy of Copyright.txt with this
+// package; otherwise see http://www.graphicsmagick.org/www/Copyright.html.
+
+//
+// This header file is for compilation using Visual Studio for the
+// WIN32 target environment.
+//
+
+// GraphicsMagick build feature configuration.  Please note that
+// disabling a feature via this header file may not be sufficient to
+// remove any library dependencies from the build.  The VisualMagick
+// project files may need to be edited to remove libraries the feature
+// depends on. When building a static GraphicsMagick, coder
+// registrations are made via magick\static.c so if a format is
+// removed, the call to its registration function should be commented
+// out in static.c.  Note that VisualMagick configure updates
+// magick\static.c so re-running configure may cause local changes to
+// be lost.
+//
+// Note that by default GraphicsMagick is configured with a
+// QuantumDepth of eight, has LZW compression enabled, and looks for
+// all files in the directory where the executable is located.  The
+// installed configuration (i.e.  the setup.exe-style installer) is
+// modifying by defining "UseInstalledMagick".  If you would like to
+// install GraphicsMagick using hard-coded paths, or want to use the
+// Windows registry to install GraphicsMagick, then
+// UseInstalledMagick" should be defined.
+//
+// Enabled options are of the form:
+//
+//   #define option
+//
+// while disabled options are initially in the form
+//
+//   // #undef option
+//
+// so it is necessary to remove the comment, and change "undef" to "define"
+// in order for the option to be enabled.
+
+/////////////
+//
+// QuantumDepth
+//
+// Specify size of PixelPacket color Quantums (8, 16, or 32).  A value
+// of 8 uses half the memory than 16 and typically runs 30% faster,
+// but provides 256 times less color resolution than a value of 16.  A
+// value of 16 is recommended if it is desired that all features be
+// fully supported but even a value of 8 allows reading 16-bit files
+// (while losing precision).
+#define QuantumDepth 8
+
+/////////////
+//
+// UseInstalledMagick
+//
+// Define to build a GraphicsMagick which uses registry settings or
+// hard-coded paths to locate installed components.  This supports
+// using the "setup.exe" style installer, or using hard-coded path
+// definitions (see below).  If you want to be able to simply copy
+// the built GraphicsMagick to any directory on any machine, then do
+// not use this setting.
+// #undef UseInstalledMagick
+
+/////////////
+//
+// ProvideDllMain
+//
+// When building GraphicsMagick using DLLs, include a DllMain()
+// function which automatically invokes InitializeMagick(NULL), and
+// DestroyMagick() so that the user doesn't need to. This is enabled
+// by default since no adverse effects have been found.
+#define ProvideDllMain
+
+
+/////////////
+//
+// PREFIX_MAGICK_SYMBOLS
+//
+// Define if the symbols in the GraphicsMagick library should all be
+// prefixed with "Gm" to ensure that there are no conflicts at the
+// library level. Symbol renaming is done using the C preprocessor so
+// there is still risk of conflict at the source level.
+#undef PREFIX_MAGICK_SYMBOLS
+
+
+/////////////
+//
+// DisableSlowOpenMP
+//
+// Define in order to disable use of OpenMP for quick algorithms which
+// may run slower and slower rather than faster and faster as CPU
+// cores are added.  Unfortunately some operating systems and hardware
+// are not so good for OpenMP so that they incur considerable overhead
+// and therefore only provide benefit for very slow algorithms.  Since
+// the problematic algorithms are quick, the inability to speed them
+// up is not much of a problem.
+//
+// From what we have seen, AMD server CPUs (Opteron family) always
+// show a benefit from OpenMP, AMD desktop CPUs (e.g. Phenom X4) are
+// ok, Intel Core 2 Dual core are ok, Intel Core 2 Quad and other
+// Intel multi-chip modules (MCM) or older dual-CPU systems may
+// perform poorly for lightweight algorithms.  If the CPU cores need
+// to communicate via L3 cache or main memory, then performance may
+// suffer unless this define is used.
+// #undef DisableSlowOpenMP
+
+
+/////////////
+//
+// Optional packages
+//
+// All packages except autotrace and X11 are included by default in the build.
+
+// Define to use the autotrace library (obtain sources seperately)
+// #undef HasAUTOTRACE
+
+// Define to use the bzip2 compression library
+//#define HasBZLIB
+
+// Define to use the FlashPIX library (fpx module/subdirectory).
+// FlashPix is no longer actively supported but it should still be
+// discovered by the configure program and work if the source is
+// extracted to a 'fpx' subdirectory.
+// #undef HasFPX
+
+// Define to use the JBIG library
+#define HasJBIG
+
+// Define to use the Jasper JPEG v2 library
+//#define HasJP2
+
+// Define to use the IJG JPEG v1 library
+#define HasJPEG
+
+// Define to use the "little" Color Management System (LCMS) library
+//#define HasLCMS
+
+// Define to use the PNG library
+#define HasPNG
+
+// Define to use the TIFF library
+//#define HasTIFF
+
+// Define to use the FreeType (TrueType & Postscript font support) library
+//#define HasTTF
+
+// Define to use the Windows GDI32 library (for clipboard and emf modules)
+//#define HasWINGDI32
+
+// Define to use the libwmf WMF parsing library
+//#define HasWMFlite
+
+/////////////
+//
+// HasX11
+//
+// Define if MIT X11 is available (or stubbed) X11 is required in
+// order for the 'animate', 'display', and 'import' commands to be
+// available.  X11 is not usually available under Windows since it
+// requires that another package be installed such as Cygwin's X11.
+// If you know what X11 is and actually plan to use it, then define
+// HasX11.
+// #undef HasX11
+
+// Define to use the GNOME XML library
+//#define HasXML
+
+// Define to use the zlib ZIP compression library
+#define HasZLIB
+
+/////////////
+//
+// Hard Coded Paths
+//
+// If hard-coded paths are defined via the the following define
+// statements, then they will override any values from the Windows
+// registry.
+// It is unusual to use hard-coded paths under Windows.
+
+// Optional: Specify where X11 application resource files are installed
+// #define ApplicationDefaults "c:\\GraphicsMagick\\"
+
+// Optional: Specify where user-specific X11 application resource files are installed
+// #define PreferencesDefaults  "~\\."
+
+// Optional: Specify where gm.exe and support executables are installed
+// #define MagickBinPath       "c:\\GraphicsMagick\\"
+
+// Optional: Specify where operating system specific files are installed
+// #define MagickLibPath       "c:\\GraphicsMagick\\"
+
+// Optional: Specify where operating system independent files are installed
+// #define MagickSharePath     "c:\\GraphicsMagick\\"
+
+// Optional: Specify where coder modules (DLLs) are installed
+// #define MagickCoderModulesPath   "c:\\GraphicsMagick\\"
+
+// Optional: Specify where filter modules (DLLs) are installed
+// #define MagickFilterModulesPath   "c:\\GraphicsMagick\\"
+
+/////////////
+//
+// The remaining defines should not require user modification.
+//
+#define HAVE_SYS_TYPES_H 1
+
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/wand/CORE_wand_xt_lib.vcproj GraphicsMagick-1.3.7/VisualMagick/wand/CORE_wand_xt_lib.vcproj
--- GraphicsMagick-1.3.7.orig/VisualMagick/wand/CORE_wand_xt_lib.vcproj	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/wand/CORE_wand_xt_lib.vcproj	2009-11-03 13:49:40 -0800
@@ -0,0 +1,227 @@
+<?xml version="1.0" encoding="Windows-1252"?>
+<VisualStudioProject
+	ProjectType="Visual C++"
+	Version="9.00"
+	Name="CORE_wand"
+	ProjectGUID="{3E8C968D-9B04-48B2-99F0-AF8354565EC3}"
+	Keyword="Win32Proj"
+	TargetFrameworkVersion="131072"
+	>
+	<Platforms>
+		<Platform
+			Name="Win32"
+		/>
+	</Platforms>
+	<ToolFiles>
+	</ToolFiles>
+	<Configurations>
+		<Configuration
+			Name="Release|Win32"
+			OutputDirectory="..\lib\"
+			IntermediateDirectory="..\Release\CORE_wand"
+			ConfigurationType="4"
+			InheritedPropertySheets="$(VCInstallDir)VCProjectDefaults\UpgradeFromVC70.vsprops"
+			UseOfMFC="0"
+			ATLMinimizesCRunTimeLibraryUsage="false"
+			CharacterSet="2"
+			>
+			<Tool
+				Name="VCPreBuildEventTool"
+			/>
+			<Tool
+				Name="VCCustomBuildTool"
+			/>
+			<Tool
+				Name="VCXMLDataGeneratorTool"
+			/>
+			<Tool
+				Name="VCWebServiceProxyGeneratorTool"
+			/>
+			<Tool
+				Name="VCMIDLTool"
+			/>
+			<Tool
+				Name="VCCLCompilerTool"
+				Optimization="3"
+				InlineFunctionExpansion="2"
+				OmitFramePointers="true"
+				AdditionalIncludeDirectories="..\..,..\..\xlib,..\..\Magick++\lib,..\..\zlib,..\..\bzlib,..\..\jpeg,..\..\lcms\src,..\..\lcms\include,..\..\ttf\include,..\..\ttf\include\freetype,..\..\ttf\include\freetype\cache,..\..\ttf\include\freetype\config,..\..\ttf\include\freetype\internal,..\..\libxml\include,..\..\libxml\include\libxml,..\..\wand"
+				PreprocessorDefinitions="NDEBUG;_WINDOWS;WIN32;_VISUALC_;NeedFunctionPrototypes;_LIB;_WANDLIB_;_CRT_SECURE_NO_WARNINGS;_CRT_NONSTDC_NO_WARNINGS"
+				StringPooling="true"
+				BasicRuntimeChecks="0"
+				RuntimeLibrary="0"
+				EnableFunctionLevelLinking="true"
+				UsePrecompiledHeader="0"
+				WarningLevel="3"
+				SuppressStartupBanner="true"
+				DebugInformationFormat="3"
+				CompileAs="0"
+			/>
+			<Tool
+				Name="VCManagedResourceCompilerTool"
+			/>
+			<Tool
+				Name="VCResourceCompilerTool"
+				PreprocessorDefinitions="NDEBUG"
+				Culture="1033"
+			/>
+			<Tool
+				Name="VCPreLinkEventTool"
+			/>
+			<Tool
+				Name="VCLibrarianTool"
+				AdditionalDependencies=""
+				OutputFile="..\lib\CORE_RL_wand_.lib"
+				SuppressStartupBanner="true"
+			/>
+			<Tool
+				Name="VCALinkTool"
+			/>
+			<Tool
+				Name="VCXDCMakeTool"
+			/>
+			<Tool
+				Name="VCBscMakeTool"
+			/>
+			<Tool
+				Name="VCFxCopTool"
+			/>
+			<Tool
+				Name="VCPostBuildEventTool"
+			/>
+		</Configuration>
+		<Configuration
+			Name="Debug|Win32"
+			OutputDirectory="..\lib\"
+			IntermediateDirectory="..\Debug\CORE_wand"
+			ConfigurationType="4"
+			InheritedPropertySheets="$(VCInstallDir)VCProjectDefaults\UpgradeFromVC70.vsprops"
+			UseOfMFC="0"
+			ATLMinimizesCRunTimeLibraryUsage="false"
+			CharacterSet="2"
+			>
+			<Tool
+				Name="VCPreBuildEventTool"
+			/>
+			<Tool
+				Name="VCCustomBuildTool"
+			/>
+			<Tool
+				Name="VCXMLDataGeneratorTool"
+			/>
+			<Tool
+				Name="VCWebServiceProxyGeneratorTool"
+			/>
+			<Tool
+				Name="VCMIDLTool"
+			/>
+			<Tool
+				Name="VCCLCompilerTool"
+				Optimization="0"
+				InlineFunctionExpansion="2"
+				OmitFramePointers="false"
+				AdditionalIncludeDirectories="..\..,..\..,LIBPNG_INCLUDE_PATH,..\..\Magick++\lib,ZLIB_INCLUDE_PATH,..\..\bzlib,JPEG_INCLUDE_PATH,..\..\lcms\src,..\..\lcms\include,..\..\ttf\include,..\..\ttf\include\freetype,..\..\ttf\include\freetype\cache,..\..\ttf\include\freetype\config,..\..\ttf\include\freetype\internal,..\..\libxml\include,..\..\libxml\include\libxml,..\..\magick"
+				PreprocessorDefinitions="_DEBUG;_WINDOWS;WIN32;_VISUALC_;NeedFunctionPrototypes;_LIB;_WANDLIB_;_CRT_SECURE_NO_WARNINGS;_CRT_NONSTDC_NO_WARNINGS"
+				StringPooling="true"
+				BasicRuntimeChecks="3"
+				RuntimeLibrary="1"
+				EnableFunctionLevelLinking="true"
+				UsePrecompiledHeader="0"
+				WarningLevel="3"
+				SuppressStartupBanner="true"
+				DebugInformationFormat="3"
+				CompileAs="0"
+			/>
+			<Tool
+				Name="VCManagedResourceCompilerTool"
+			/>
+			<Tool
+				Name="VCResourceCompilerTool"
+				PreprocessorDefinitions="_DEBUG"
+				Culture="1033"
+			/>
+			<Tool
+				Name="VCPreLinkEventTool"
+			/>
+			<Tool
+				Name="VCLibrarianTool"
+				AdditionalDependencies=""
+				OutputFile="..\lib\CORE_DB_wand_.lib"
+				SuppressStartupBanner="true"
+			/>
+			<Tool
+				Name="VCALinkTool"
+			/>
+			<Tool
+				Name="VCXDCMakeTool"
+			/>
+			<Tool
+				Name="VCBscMakeTool"
+			/>
+			<Tool
+				Name="VCFxCopTool"
+			/>
+			<Tool
+				Name="VCPostBuildEventTool"
+			/>
+		</Configuration>
+	</Configurations>
+	<References>
+	</References>
+	<Files>
+		<Filter
+			Name="src"
+			>
+			<File
+				RelativePath="..\..\wand\drawing_wand.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\wand\magick_compat.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\wand\magick_wand.c"
+				>
+			</File>
+			<File
+				RelativePath="..\..\wand\pixel_wand.c"
+				>
+			</File>
+			<File
+				RelativePath="wand.rc"
+				>
+			</File>
+		</Filter>
+		<Filter
+			Name="include"
+			>
+			<File
+				RelativePath="..\..\wand\drawing_wand.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\wand\magick_compat.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\wand\magick_wand.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\wand\pixel_wand.h"
+				>
+			</File>
+			<File
+				RelativePath="..\..\wand\wand_api.h"
+				>
+			</File>
+		</Filter>
+		<Filter
+			Name="resource"
+			>
+		</Filter>
+	</Files>
+	<Globals>
+	</Globals>
+</VisualStudioProject>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/wand/CORE_wand_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user GraphicsMagick-1.3.7/VisualMagick/wand/CORE_wand_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user
--- GraphicsMagick-1.3.7.orig/VisualMagick/wand/CORE_wand_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/wand/CORE_wand_xt_lib.vcproj.WIN-BKLP8A0R3G4.lth.user	2009-11-03 13:49:41 -0800
@@ -0,0 +1,65 @@
+<?xml version="1.0" encoding="Windows-1252"?>
+<VisualStudioUserFile
+	ProjectType="Visual C++"
+	Version="9.00"
+	ShowAllFiles="false"
+	>
+	<Configurations>
+		<Configuration
+			Name="Release|Win32"
+			>
+			<DebugSettings
+				Command=""
+				WorkingDirectory=""
+				CommandArguments=""
+				Attach="false"
+				DebuggerType="3"
+				Remote="1"
+				RemoteMachine="WIN-BKLP8A0R3G4"
+				RemoteCommand=""
+				HttpUrl=""
+				PDBPath=""
+				SQLDebugging=""
+				Environment=""
+				EnvironmentMerge="true"
+				DebuggerFlavor=""
+				MPIRunCommand=""
+				MPIRunArguments=""
+				MPIRunWorkingDirectory=""
+				ApplicationCommand=""
+				ApplicationArguments=""
+				ShimCommand=""
+				MPIAcceptMode=""
+				MPIAcceptFilter=""
+			/>
+		</Configuration>
+		<Configuration
+			Name="Debug|Win32"
+			>
+			<DebugSettings
+				Command=""
+				WorkingDirectory=""
+				CommandArguments=""
+				Attach="false"
+				DebuggerType="3"
+				Remote="1"
+				RemoteMachine="WIN-BKLP8A0R3G4"
+				RemoteCommand=""
+				HttpUrl=""
+				PDBPath=""
+				SQLDebugging=""
+				Environment=""
+				EnvironmentMerge="true"
+				DebuggerFlavor=""
+				MPIRunCommand=""
+				MPIRunArguments=""
+				MPIRunWorkingDirectory=""
+				ApplicationCommand=""
+				ApplicationArguments=""
+				ShimCommand=""
+				MPIAcceptMode=""
+				MPIAcceptFilter=""
+			/>
+		</Configuration>
+	</Configurations>
+</VisualStudioUserFile>
diff -urN GraphicsMagick-1.3.7.orig/VisualMagick/wand/wand.rc GraphicsMagick-1.3.7/VisualMagick/wand/wand.rc
--- GraphicsMagick-1.3.7.orig/VisualMagick/wand/wand.rc	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/VisualMagick/wand/wand.rc	2009-11-03 13:49:41 -0800
@@ -0,0 +1,58 @@
+#include "winver.h"
+#define WIN32
+#include "../../magick/magick_config.h"
+#include "../../magick/version.h"
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Version
+//
+/////////////////////////////////////////////////////////////////////////////
+
+VS_VERSION_INFO VERSIONINFO
+ FILEVERSION MagickLibVersionNumber
+ PRODUCTVERSION MagickLibVersionNumber
+ FILEFLAGSMASK 0x3fL
+#ifdef _DEBUG
+ FILEFLAGS 0x1L
+#else
+ FILEFLAGS 0x0L
+#endif
+ FILEOS 0x40004L
+ FILETYPE 0x1L
+ FILESUBTYPE 0x0L
+BEGIN
+    BLOCK "StringFileInfo"
+    BEGIN
+        BLOCK "040904b0"
+        BEGIN
+            VALUE "ProductName", "GraphicsMagick\0"
+            VALUE "FileDescription", "GraphicsMagick library and utility programs\0"
+            VALUE "OriginalFilename", "GraphicsMagick\0"
+            VALUE "InternalName", "GraphicsMagick\0"
+            VALUE "FileVersion", MagickLibVersionText "\0"
+            VALUE "ProductVersion", MagickLibVersionText "\0"
+            VALUE "CompanyName", "GraphicsMagick Group\0"
+            VALUE "LegalCopyright", MagickCopyright "\0"
+            VALUE "Comments", MagickVersion "\0"
+        END
+    END
+    BLOCK "VarFileInfo"
+    BEGIN
+        VALUE "Translation", 0x409, 1200
+    END
+END
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// IMAGEMAGICK
+//
+/////////////////////////////////////////////////////////////////////////////
+
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Icon
+//
+/////////////////////////////////////////////////////////////////////////////
+
diff -urN GraphicsMagick-1.3.7.orig/coders/hdf.c GraphicsMagick-1.3.7/coders/hdf.c
--- GraphicsMagick-1.3.7.orig/coders/hdf.c	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/coders/hdf.c	2009-11-03 13:49:41 -0800
@@ -0,0 +1,755 @@
+/*
+% Copyright (C) 2003 GraphicsMagick Group
+% Copyright (C) 2002 ImageMagick Studio
+% Copyright 1991-1999 E. I. du Pont de Nemours and Company
+%
+% This program is covered by multiple licenses, which are described in
+% Copyright.txt. You should have received a copy of Copyright.txt with this
+% package; otherwise see http://www.graphicsmagick.org/www/Copyright.html.
+%
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%                            H   H  DDDD   FFFFF                              %
+%                            H   H  D   D  F                                  %
+%                            HHHHH  D   D  FFF                                %
+%                            H   H  D   D  F                                  %
+%                            H   H  DDDD   F                                  %
+%                                                                             %
+%                                                                             %
+%                   Read/Write Heirarchical Data Format.                      %
+%                                                                             %
+%                                                                             %
+%                              Software Design                                %
+%                                John Cristy                                  %
+%                                 July 1992                                   %
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%
+%
+*/
+
+/*
+  Include declarations.
+*/
+#include "magick/studio.h"
+#include "magick/attribute.h"
+#include "magick/blob.h"
+#include "magick/magick.h"
+#include "magick/monitor.h"
+#include "magick/utility.h"
+#if defined(HasHDF)
+
+/*
+  Forward declarations.
+*/
+static unsigned int
+  WriteHDFImage(const ImageInfo *,Image *);
+
+/*
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%   I s H D F                                                                 %
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%
+%  Method IsHDF returns True if the image format type, identified by the
+%  magick string, is HDF.
+%
+%  The format of the IsHDF method is:
+%
+%      unsigned int IsHDF(const unsigned char *magick,const size_t length)
+%
+%  A description of each parameter follows:
+%
+%    o status:  Method IsHDF returns True if the image format type is HDF.
+%
+%    o magick: This string is generally the first few bytes of an image file
+%      or blob.
+%
+%    o length: Specifies the length of the magick string.
+%
+%
+*/
+static unsigned int IsHDF(const unsigned char *magick,const size_t length)
+{
+  if (length < 4)
+    return(False);
+  if (memcmp(magick,"\016\003\023\001",4) == 0)
+    return(True);
+  return(False);
+}
+
+#if defined(HAVE_HDF_HDF_H)
+#include "hdf/hdf.h"
+#else
+#include "hdf.h"
+#endif
+#undef BSD
+#undef LOCAL
+/*
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%   R e a d H D F I m a g e                                                   %
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%
+%  Method ReadHDFImage reads a Hierarchical Data Format image file and
+%  returns it.  It allocates the memory necessary for the new Image structure
+%  and returns a pointer to the new image.
+%
+%  The format of the ReadHDFImage method is:
+%
+%      Image *ReadHDFImage(const ImageInfo *image_info,ExceptionInfo *exception)
+%
+%  A description of each parameter follows:
+%
+%    o image:  Method ReadHDFImage returns a pointer to the image after
+%      reading.  A null image is returned if there is a memory shortage or
+%      if the image cannot be read.
+%
+%    o image_info: Specifies a pointer to a ImageInfo structure.
+%
+%    o exception: return any errors or warnings in this structure.
+%
+%
+*/
+static Image *ReadHDFImage(const ImageInfo *image_info,ExceptionInfo *exception)
+{
+  ClassType
+    class;
+
+  Image
+    *image;
+
+  int
+    interlace;
+
+  int32
+    height,
+    length,
+    width;
+
+  long
+    y;
+
+  register IndexPacket
+    *indexes;
+
+  register long
+    i,
+    x;
+
+  register unsigned char
+    *p;
+
+  register PixelPacket
+    *q;
+
+  uint16
+    reference;
+
+  unsigned char
+    *hdf_pixels;
+
+  unsigned int
+    is_palette,
+    status;
+
+  unsigned long
+    packet_size;
+
+  /*
+    Open image file.
+  */
+  assert(image_info != (const ImageInfo *) NULL);
+  assert(image_info->signature == MagickSignature);
+  assert(exception != (ExceptionInfo *) NULL);
+  assert(exception->signature == MagickSignature);
+  image=AllocateImage(image_info);
+  status=OpenBlob(image_info,image,ReadBinaryBlobMode , exception );
+  if (status == False)
+    ThrowReaderException(FileOpenError,UnableToOpenFile,image);
+  /*
+    Read HDF image.
+  */
+  class=DirectClass;
+  status=DF24getdims(image->filename,&width,&height,&interlace);
+  if (status == -1)
+    {
+      class=PseudoClass;
+      status=DFR8getdims(image->filename,&width,&height,(int *) &is_palette);
+    }
+  if (status == -1)
+    ThrowReaderException(CorruptImageError,ImageFileDoesNotContainAnyImageData,image);
+  do
+  {
+    /*
+      Initialize image structure.
+    */
+    image->storage_class=class;
+    image->columns=width;
+    image->rows=height;
+    image->depth=8;
+    if (image->storage_class == PseudoClass)
+      image->colors=256;
+    if (image_info->ping && (image_info->subrange != 0))
+      if (image->scene >= (image_info->subimage+image_info->subrange-1))
+        break;
+    packet_size=image->storage_class == DirectClass ? 3 : 1;
+    hdf_pixels=MagickAllocateMemory(unsigned char *,
+      packet_size*image->columns*image->rows);
+    if (hdf_pixels == (unsigned char *) NULL)
+      ThrowReaderException(ResourceLimitError,MemoryAllocationFailed,image);
+    if (image->storage_class == PseudoClass)
+      {
+        unsigned char
+          *hdf_palette;
+
+        /*
+          Create colormap.
+        */
+        if (!AllocateImageColormap(image,image->colors))
+          ThrowReaderException(ResourceLimitError,MemoryAllocationFailed,
+            image);
+        hdf_palette=MagickAllocateMemory(unsigned char *,768);
+        if (hdf_palette == (unsigned char *) NULL)
+          ThrowReaderException(ResourceLimitError,MemoryAllocationFailed,
+            image);
+        (void) DFR8getimage(image->filename,hdf_pixels,(int) image->columns,
+          (int) image->rows,hdf_palette);
+        reference=DFR8lastref();
+        /*
+          Convert HDF raster image to PseudoClass pixel packets.
+        */
+        p=hdf_palette;
+        if (is_palette)
+          for (i=0; i < 256; i++)
+          {
+            image->colormap[i].red=ScaleCharToQuantum(*p++);
+            image->colormap[i].green=ScaleCharToQuantum(*p++);
+            image->colormap[i].blue=ScaleCharToQuantum(*p++);
+          }
+        else
+          for (i=0; i < (long) image->colors; i++)
+          {
+            image->colormap[i].red=ScaleCharToQuantum(i);
+            image->colormap[i].green=ScaleCharToQuantum(i);
+            image->colormap[i].blue=ScaleCharToQuantum(i);
+          }
+        MagickFreeMemory(hdf_palette);
+        p=hdf_pixels;
+        for (y=0; y < (long) image->rows; y++)
+        {
+          q=SetImagePixels(image,0,y,image->columns,1);
+          if (q == (PixelPacket *) NULL)
+            break;
+          indexes=GetIndexes(image);
+          for (x=0; x < (long) image->columns; x++)
+            indexes[x]=(*p++);
+          if (!SyncImagePixels(image))
+            break;
+          if (image->previous == (Image *) NULL)
+            if (QuantumTick(y,image->rows))
+              if (!MagickMonitor(LoadImageText,y,image->rows,exception))
+                break;
+        }
+      }
+    else
+      {
+        /*
+          Convert HDF raster image to DirectClass pixel packets.
+        */
+        (void) DF24getimage(image->filename,(void *) hdf_pixels,image->columns,
+          image->rows);
+        reference=DF24lastref();
+        p=hdf_pixels;
+        image->interlace=interlace ? PlaneInterlace : NoInterlace;
+        for (y=0; y < (long) image->rows; y++)
+        {
+          q=SetImagePixels(image,0,y,image->columns,1);
+          if (q == (PixelPacket *) NULL)
+            break;
+          for (x=0; x < (long) image->columns; x++)
+          {
+            q->red=ScaleCharToQuantum(*p++);
+            q->green=ScaleCharToQuantum(*p++);
+            q->blue=ScaleCharToQuantum(*p++);
+            q++;
+          }
+          if (!SyncImagePixels(image))
+            break;
+          if (image->previous == (Image *) NULL)
+            if (QuantumTick(y,image->rows))
+              if (!MagickMonitor(LoadImageText,y,image->rows,exception))
+                break;
+        }
+      }
+    length=DFANgetlablen(image->filename,DFTAG_RIG,reference);
+    if (length > 0)
+      {
+        char
+          *label;
+
+        /*
+          Read the image label.
+        */
+        length+=MaxTextExtent;
+        label=MagickAllocateMemory(char *,length);
+        if (label != (char *) NULL)
+          {
+            DFANgetlabel(image->filename,DFTAG_RIG,reference,label,length);
+            (void) SetImageAttribute(image,"Label",label);
+            MagickFreeMemory(label);
+          }
+      }
+    length=DFANgetdesclen(image->filename,DFTAG_RIG,reference);
+    if (length > 0)
+      {
+        char
+          *comments;
+
+        /*
+          Read the image comments.
+        */
+        length+=MaxTextExtent;
+        comments=MagickAllocateMemory(char *,length);
+        if (comments != (char *) NULL)
+          {
+            DFANgetdesc(image->filename,DFTAG_RIG,reference,comments,length);
+            (void) SetImageAttribute(image,"Comment",comments);
+            MagickFreeMemory(comments);
+          }
+      }
+    MagickFreeMemory(hdf_pixels);
+    if (image->storage_class == PseudoClass)
+      (void) SyncImage(image);
+    /*
+      Proceed to next image.
+    */
+    if (image_info->subrange != 0)
+      if (image->scene >= (image_info->subimage+image_info->subrange-1))
+        break;
+    class=DirectClass;
+    status=DF24getdims(image->filename,&width,&height,&interlace);
+    if (status == -1)
+      {
+        class=PseudoClass;
+        status=DFR8getdims(image->filename,&width,&height,(int *) &is_palette);
+      }
+    if (status != -1)
+      {
+        /*
+          Allocate next image structure.
+        */
+        AllocateNextImage(image_info,image);
+        if (image->next == (Image *) NULL)
+          {
+            DestroyImageList(image);
+            return((Image *) NULL);
+          }
+        image=SyncNextImageInList(image);
+        if (!MagickMonitor(LoadImagesText,TellBlob(image),GetBlobSize(image),exception))
+          break;
+      }
+  } while (status != -1);
+  while (image->previous != (Image *) NULL)
+    image=image->previous;
+  CloseBlob(image);
+  return(image);
+}
+#endif
+
+/*
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%   R e g i s t e r H D F I m a g e                                           %
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%
+%  Method RegisterHDFImage adds attributes for the HDF image format to
+%  the list of supported formats.  The attributes include the image format
+%  tag, a method to read and/or write the format, whether the format
+%  supports the saving of more than one frame to the same file or blob,
+%  whether the format supports native in-memory I/O, and a brief
+%  description of the format.
+%
+%  The format of the RegisterHDFImage method is:
+%
+%      RegisterHDFImage(void)
+%
+*/
+ModuleExport void RegisterHDFImage(void)
+{
+#if defined(HasHDF)
+  MagickInfo
+    *entry;
+
+  entry=SetMagickInfo("HDF");
+  entry->decoder=(DecoderHandler) ReadHDFImage;
+  entry->encoder=(EncoderHandler) WriteHDFImage;
+  entry->magick=(MagickHandler) IsHDF;
+  entry->blob_support=False;
+  entry->description="Hierarchical Data Format";
+  entry->module="HDF";
+  (void) RegisterMagickInfo(entry);
+#endif /* HasHDF */
+}
+
+/*
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%   U n r e g i s t e r H D F I m a g e                                       %
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%
+%  Method UnregisterHDFImage removes format registrations made by the
+%  HDF module from the list of supported formats.
+%
+%  The format of the UnregisterHDFImage method is:
+%
+%      UnregisterHDFImage(void)
+%
+*/
+ModuleExport void UnregisterHDFImage(void)
+{
+#if defined(HasHDF)
+  (void) UnregisterMagickInfo("HDF");
+#endif /* HasHDF */
+}
+
+#if defined(HasHDF)
+/*
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%   W r i t e H D F I m a g e                                                 %
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%
+%  Method WriteHDFImage writes an image in the Hierarchial Data Format image
+%  format.
+%
+%  The format of the WriteHDFImage method is:
+%
+%      unsigned int WriteHDFImage(const ImageInfo *image_info,Image *image)
+%
+%  A description of each parameter follows.
+%
+%    o status: Method WriteHDFImage return True if the image is written.
+%      False is returned is there is a memory shortage or if the image file
+%      fails to write.
+%
+%    o image_info: Specifies a pointer to a ImageInfo structure.
+%
+%    o image:  A pointer to an Image structure.
+%
+%
+*/
+static unsigned int WriteHDFImage(const ImageInfo *image_info,Image *image)
+{
+  const ImageAttribute
+    *attribute;
+
+  long
+    y;
+
+  register const PixelPacket
+    *p;
+
+  register IndexPacket
+    *indexes;
+
+  register long
+    i,
+    x;
+
+  register unsigned char
+    *q;
+
+  uint16
+    reference;
+
+  unsigned char
+    *hdf_pixels;
+
+  unsigned short
+    compression;
+
+  unsigned int
+    status;
+
+  unsigned long
+    packet_size,
+    scene;
+
+  /*
+    Open output image file.
+  */
+  assert(image_info != (const ImageInfo *) NULL);
+  assert(image_info->signature == MagickSignature);
+  assert(image != (Image *) NULL);
+  assert(image->signature == MagickSignature);
+  status=OpenBlob(image_info,image,WriteBinaryBlobMode, &image->exception );
+  if (status == False)
+    ThrowWriterException(FileOpenError,UnableToOpenFile,image);
+  CloseBlob(image);
+  scene=0;
+  do
+  {
+    /*
+      Initialize raster file header.
+    */
+    (void) TransformColorspace(image,RGBColorspace);
+    packet_size=image->storage_class == DirectClass ? 3 : 11;
+    hdf_pixels=MagickAllocateMemory(unsigned char *),
+      packet_size*image->columns*image->rows);
+    if (hdf_pixels == (unsigned char *) NULL)
+      ThrowWriterException(ResourceLimitError,MemoryAllocationFailed,image);
+    if (image->storage_class == DirectClass)
+      {
+        /*
+          Convert DirectClass packet to HDF pixels.
+        */
+        q=hdf_pixels;
+        switch (image_info->interlace)
+        {
+          case NoInterlace:
+          default:
+          {
+            /*
+              No interlacing:  RGBRGBRGBRGBRGBRGB...
+            */
+            DF24setil(DFIL_PIXEL);
+            for (y=0; y < (long) image->rows; y++)
+            {
+              p=AcquireImagePixels(image,0,y,image->columns,1,
+                &image->exception);
+              if (p == (const PixelPacket *) NULL)
+                break;
+              for (x=0; x < (long) image->columns; x++)
+              {
+                *q++=ScaleQuantumToChar(p->red);
+                *q++=ScaleQuantumToChar(p->green);
+                *q++=ScaleQuantumToChar(p->blue);
+                p++;
+              }
+              if (image->previous == (Image *) NULL)
+                if (QuantumTick(y,image->rows))
+                  if (!MagickMonitor(SaveImageText,y,image->rows,&image->exception))
+                    break;
+            }
+            break;
+          }
+          case LineInterlace:
+          {
+            /*
+              Line interlacing:  RRR...GGG...BBB...RRR...GGG...BBB...
+            */
+            DF24setil(DFIL_LINE);
+            for (y=0; y < (long) image->rows; y++)
+            {
+              p=AcquireImagePixels(image,0,y,image->columns,1,
+                &image->exception);
+              if (p == (const PixelPacket *) NULL)
+                break;
+              for (x=0; x < (long) image->columns; x++)
+              {
+                *q++=ScaleQuantumToChar(p->red);
+                p++;
+              }
+              p=AcquireImagePixels(image,0,y,image->columns,1,
+                &image->exception);
+              if (p == (const PixelPacket *) NULL)
+                break;
+              for (x=0; x < (long) image->columns; x++)
+              {
+                *q++=ScaleQuantumToChar(p->green);
+                p++;
+              }
+              p=AcquireImagePixels(image,0,y,image->columns,1,
+                &image->exception);
+              if (p == (const PixelPacket *) NULL)
+                break;
+              for (x=0; x < (long) image->columns; x++)
+              {
+                *q++=ScaleQuantumToChar(p->blue);
+                p++;
+              }
+              if (QuantumTick(y,image->rows))
+                if (!MagickMonitor(SaveImageText,y,image->rows,&image->exception))
+                  break;
+            }
+            break;
+          }
+          case PlaneInterlace:
+          case PartitionInterlace:
+          {
+            /*
+              Plane interlacing:  RRRRRR...GGGGGG...BBBBBB...
+            */
+            DF24setil(DFIL_PLANE);
+            for (y=0; y < (long) image->rows; y++)
+            {
+              p=AcquireImagePixels(image,0,y,image->columns,1,
+                &image->exception);
+              if (p == (const PixelPacket *) NULL)
+                break;
+              for (x=0; x < (long) image->columns; x++)
+              {
+                *q++=ScaleQuantumToChar(p->red);
+                p++;
+              }
+            }
+            if (!MagickMonitor(SaveImageText,100,400,&image->exception))
+              break;
+            for (y=0; y < (long) image->rows; y++)
+            {
+              p=AcquireImagePixels(image,0,y,image->columns,1,
+                &image->exception);
+              if (p == (const PixelPacket *) NULL)
+                break;
+              for (x=0; x < (long) image->columns; x++)
+              {
+                *q++=ScaleQuantumToChar(p->green);
+                p++;
+              }
+            }
+            if (!MagickMonitor(SaveImageText,250,400,&image->exception))
+              break;
+            for (y=0; y < (long) image->rows; y++)
+            {
+              p=AcquireImagePixels(image,0,y,image->columns,1,
+                &image->exception);
+              if (p == (const PixelPacket *) NULL)
+                break;
+              for (x=0; x < (long) image->columns; x++)
+              {
+                *q++=ScaleQuantumToChar(p->blue);
+                p++;
+              }
+            }
+            if (!MagickMonitor(SaveImageText,400,400,&image->exception))
+              break;
+            break;
+          }
+        }
+        if (scene == 0)
+          status=DF24putimage(image->filename,(void *) hdf_pixels,
+            image->columns,image->rows);
+        else
+          status=DF24addimage(image->filename,(void *) hdf_pixels,
+            image->columns,image->rows);
+        reference=DF24lastref();
+      }
+    else
+      {
+        /*
+          Convert PseudoClass packet to HDF pixels.
+        */
+        q=hdf_pixels;
+        if (IsGrayImage(image,&image->exception))
+          for (y=0; y < (long) image->rows; y++)
+          {
+            p=AcquireImagePixels(image,0,y,image->columns,1,&image->exception);
+            if (p == (const PixelPacket *) NULL)
+              break;
+            for (x=0; x < (long) image->columns; x++)
+            {
+              *q++=ScaleQuantumToChar(PixelIntensityToQuantum(p));
+              p++;
+            }
+            if (image->previous == (Image *) NULL)
+              if (QuantumTick(y,image->rows))
+                if (!MagickMonitor(SaveImageText,y,image->rows,&image->exception))
+                  break;
+          }
+        else
+          {
+            unsigned char
+              *hdf_palette;
+
+            hdf_palette=MagickAllocateMemory(unsigned char *,768);
+            if (hdf_palette == (unsigned char *) NULL)
+              ThrowWriterException(ResourceLimitError,MemoryAllocationFailed,image);
+            q=hdf_palette;
+            for (i=0; i < (long) image->colors; i++)
+            {
+              *q++=ScaleQuantumToChar(image->colormap[i].red);
+              *q++=ScaleQuantumToChar(image->colormap[i].green);
+              *q++=ScaleQuantumToChar(image->colormap[i].blue);
+            }
+            (void) DFR8setpalette(hdf_palette);
+            MagickFreeMemory(hdf_palette);
+            q=hdf_pixels;
+            for (y=0; y < (long) image->rows; y++)
+            {
+              p=AcquireImagePixels(image,0,y,image->columns,1,
+                &image->exception);
+              if (p == (const PixelPacket *) NULL)
+                break;
+              indexes=GetIndexes(image);
+              for (x=0; x < (long) image->columns; x++)
+              {
+                *q++=indexes[x];
+                p++;
+              }
+              if (image->previous == (Image *) NULL)
+                if (QuantumTick(y,image->rows))
+                  if (!MagickMonitor(SaveImageText,y,image->rows,&image->exception))
+                    break;
+            }
+          }
+        compression=image_info->compression == NoCompression ? 0 : DFTAG_RLE;
+        if (scene == 0)
+          status=DFR8putimage(image->filename,(void *) hdf_pixels,
+            image->columns,image->rows,compression);
+        else
+          status=DFR8addimage(image->filename,(void *) hdf_pixels,
+            image->columns,image->rows,compression);
+        reference=DFR8lastref();
+      }
+    attribute=GetImageAttribute(image,"Label");
+    if (attribute != (const ImageAttribute *) NULL)
+      (void) DFANputlabel(image->filename,DFTAG_RIG,reference,attribute->value);
+    attribute=GetImageAttribute(image,"Comment");
+    if (attribute != (const ImageAttribute *) NULL)
+      (void) DFANputdesc(image->filename,DFTAG_RIG,reference,attribute->value,
+        strlen(attribute->value)+1);
+    MagickFreeMemory(hdf_pixels);
+    if (image->next == (Image *) NULL)
+      break;
+    image=SyncNextImageInList(image);
+    status=MagickMonitor(SaveImagesText,scene++,GetImageListLength(image),
+      &image->exception);
+    if (status == False)
+      break;
+  } while (image_info->adjoin);
+  if (image_info->adjoin)
+    while (image->previous != (Image *) NULL)
+      image=image->previous;
+  return(status != -1);
+}
+#endif /* HasHDF */
diff -urN GraphicsMagick-1.3.7.orig/coders/xtrn.c GraphicsMagick-1.3.7/coders/xtrn.c
--- GraphicsMagick-1.3.7.orig/coders/xtrn.c	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/coders/xtrn.c	2009-11-03 13:49:41 -0800
@@ -0,0 +1,544 @@
+/*
+% Copyright (C) 2003 GraphicsMagick Group
+% Copyright (C) 2002 ImageMagick Studio
+%
+% This program is covered by multiple licenses, which are described in
+% Copyright.txt. You should have received a copy of Copyright.txt with this
+% package; otherwise see http://www.graphicsmagick.org/www/Copyright.html.
+%
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%                        X   X  TTTTT  RRRR   N   N                           %
+%                         X X     T    R   R  NN  N                           %
+%                          X      T    RRRR   N N N                           %
+%                         X X     T    R R    N  NN                           %
+%                        X   X    T    R  R   N   N                           %
+%                                                                             %
+%                                                                             %
+%                    ImageMagickObject BLOB Interface.                        %
+%                                                                             %
+%                                                                             %
+%                              Software Design                                %
+%                             William Radcliffe                               %
+%                                 May 2001                                    %
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%  This coder is a kind of backdoor used by the COM object that allows it to  %
+%  pass blobs back and forth using the coder interface. It simply encodes and %
+%  decodes the filename as a comma delimited string and extracts the info it  %
+%  needs. The five methods of passing images are:                             %
+%                                                                             %
+%     FILE   - same thing as filename so it should be a NOP                   %
+%     IMAGE  - passes an image and image info structure                       %
+%     BLOB   - passes binary blob containining the image                      %
+%     ARRAY  - passes a pointer to a Win32 smart array and streams to it      %
+%                                                                             %
+%  Of all of these, the only one getting any real use at the moment is the    %
+%  ARRAY handler. It is the primary way that images are shuttled back and     %
+%  forth as blobs via COM since this is what VB and VBSCRIPT use internally   %
+%  for this purpose.                                                          %
+%                                                                             %
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%
+%
+*/
+
+/*
+  Include declarations.
+*/
+#if defined(_VISUALC_)
+#include "magick/studio.h"
+#include "magick/blob.h"
+#include "magick/constitute.h"
+#include "magick/delegate.h"
+#include "magick/magick.h"
+#include "magick/pixel_cache.h"
+#include "magick/utility.h"
+#define WIN32_LEAN_AND_MEAN
+#define VC_EXTRALEAN
+#include <windows.h>
+#include <ole2.h>
+
+/*
+  Forward declarations.
+*/
+static unsigned int
+  WriteXTRNImage(const ImageInfo *,Image *);
+
+/*
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%   R e a d X T R N I m a g e                                                 %
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%
+%  Method ReadXTRNImage reads a XTRN image file and returns it.  It
+%  allocates the memory necessary for the new Image structure and returns a
+%  pointer to the new image.
+%
+%  The format of the ReadXTRNImage method is:
+%
+%      Image *ReadXTRNImage(const ImageInfo *image_info,
+%        ExceptionInfo *exception)
+%
+%  A description of each parameter follows:
+%
+%    o image:  Method ReadXTRNImage returns a pointer to the image after
+%      reading.  A null image is returned if there is a memory shortage or
+%      if the image cannot be read.
+%
+%    o image_info: Specifies a pointer to an ImageInfo structure.
+%
+%    o exception: return any errors or warnings in this structure.
+%
+%
+*/
+static Image *ReadXTRNImage(const ImageInfo *image_info, ExceptionInfo *exception)
+{
+  Image
+    *image;
+
+  ImageInfo
+    *clone_info;
+
+  void
+    *param1,
+    *param2,
+    *param3;
+
+  param1 = param2 = param3 = (void *) NULL;
+  image = (Image *) NULL;
+  clone_info=CloneImageInfo(image_info);
+  if (clone_info->filename == NULL)
+    {
+      DestroyImageInfo(clone_info);
+      ThrowReaderException(OptionError,MissingAnImageFilename,image);
+    }
+  /* DebugString("ReadXTRN CODER: %s\n",clone_info->filename); */
+  if (LocaleCompare(image_info->magick,"XTRNFILE") == 0)
+    {
+      image=ReadImage(clone_info,exception);
+      /* this should not be needed since the upstream code should catch any
+         excetpions thrown by ReadImage
+       */
+      if (exception->severity != UndefinedException)
+        MagickWarning2(exception->severity,exception->reason,exception->description);
+    }
+  else if (LocaleCompare(image_info->magick,"XTRNIMAGE") == 0)
+    {
+      Image
+        **image_ptr;
+
+#ifdef ALL_IMAGEINFO
+      ImageInfo
+        **image_info_ptr;
+#endif
+
+      (void) sscanf(clone_info->filename,"%lx,%lx",&param1,&param2);
+      image_ptr=(Image **) param2;
+      if (*image_ptr != (Image *)NULL)
+        image=CloneImage(*image_ptr,0,0,False,&(*image_ptr)->exception);
+#ifdef ALL_IMAGEINFO
+      image_info_ptr=(ImageInfo **) param1;
+      if (*image_info_ptr != (ImageInfo *)NULL)
+        image_info=*image_info_ptr;
+#endif
+    }
+  else if (LocaleCompare(image_info->magick,"XTRNBLOB") == 0)
+    {
+      char
+        **blob_data;
+
+      size_t
+        *blob_length;
+
+      char
+        filename[MaxTextExtent];
+
+      (void) sscanf(clone_info->filename,"%lx,%lx,%s",&param1,&param2,&filename);
+      blob_data=(char **) param1;
+      blob_length=(size_t *) param2;
+      image=BlobToImage(clone_info,*blob_data,*blob_length,exception);
+      if (exception->severity != UndefinedException)
+        MagickWarning2(exception->severity,exception->reason,exception->description);
+    }
+  else if (LocaleCompare(image_info->magick,"XTRNARRAY") == 0)
+    {
+      SAFEARRAY
+        *pSafeArray;
+
+      char
+        *blob_data;
+
+      size_t
+        blob_length;
+
+                  long
+        lBoundl,
+        lBoundu;
+
+      HRESULT
+        hr;
+
+      char
+        filename[MaxTextExtent];
+
+      filename[0] = '\0';
+      (void) sscanf(clone_info->filename,"%lx,%s",&param1,&filename);
+            hr = S_OK;
+      pSafeArray = (SAFEARRAY *) param1;
+      if (pSafeArray)
+        {
+                      hr = SafeArrayGetLBound(pSafeArray, 1, &lBoundl);
+          if (SUCCEEDED(hr))
+                        hr = SafeArrayGetUBound(pSafeArray, 1, &lBoundu);
+          if (SUCCEEDED(hr))
+            {
+                          blob_length = lBoundu - lBoundl + 1;
+              hr = SafeArrayAccessData(pSafeArray, (void**)&blob_data);
+                    if(SUCCEEDED(hr))
+                {
+                  if (filename[0] != '\0')
+                    {
+                      (void) strcpy(clone_info->filename, filename);
+                      (void) strcpy(clone_info->magick, filename);
+                    }
+                  else
+                    {
+                      *clone_info->magick = '\0';
+                      clone_info->filename[0] = '\0';
+                    }
+                  image=BlobToImage(clone_info,blob_data,blob_length,exception);
+                  hr = SafeArrayUnaccessData(pSafeArray);
+                  if (exception->severity != UndefinedException)
+                    MagickWarning2(exception->severity,exception->reason,
+                       exception->description);
+                }
+            }
+        }
+    }
+  else if (LocaleCompare(image_info->magick,"XTRNBSTR") == 0)
+    {
+      BSTR
+        bstr;
+
+      char
+        *blob_data;
+
+      size_t
+        blob_length;
+
+      HRESULT
+        hr;
+
+      char
+        filename[MaxTextExtent];
+
+      filename[0] = '\0';
+      (void) sscanf(clone_info->filename,"%lx,%s",&param1,&filename);
+      hr = S_OK;
+      bstr = (BSTR) param1;
+      blob_length = SysStringLen(bstr) * 2;
+      blob_data = (char *)bstr;
+      /* DebugString("XTRN CODER: 0x%04lx (%ld)\n",(unsigned long)blob_data,blob_length); */
+      if ((blob_data != (char *)NULL) && (blob_length>0))
+        {
+          if (filename[0] != '\0')
+            {
+              (void) strcpy(clone_info->filename, filename);
+              (void) strcpy(clone_info->magick, filename);
+            }
+          else
+            {
+              *clone_info->magick = '\0';
+              clone_info->filename[0] = '\0';
+            }
+          image=BlobToImage(clone_info,blob_data,blob_length,exception);
+          if (exception->severity != UndefinedException)
+            MagickWarning2(exception->severity,exception->reason,
+                exception->description);
+        }
+    }
+  DestroyImageInfo(clone_info);
+  return(image);
+}
+
+/*
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%   R e g i s t e r X T R N I m a g e                                         %
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%
+%  Method RegisterXTRNImage adds attributes for the XTRN image format to
+%  the list of supported formats.  The attributes include the image format
+%  tag, a method to read and/or write the format, whether the format
+%  supports the saving of more than one frame to the same file or blob,
+%  whether the format supports native in-memory I/O, and a brief
+%  description of the format.
+%
+%  The format of the RegisterXTRNImage method is:
+%
+%      RegisterXTRNImage(void)
+%
+*/
+ModuleExport void RegisterXTRNImage(void)
+{
+  MagickInfo
+    *entry;
+
+  entry=SetMagickInfo("XTRNFILE");
+  entry->decoder=ReadXTRNImage;
+  entry->encoder=WriteXTRNImage;
+  entry->adjoin=False;
+  entry->stealth=True;
+  entry->description="External transfer of a file";
+  entry->module="XTRN";
+  RegisterMagickInfo(entry);
+
+  entry=SetMagickInfo("XTRNIMAGE");
+  entry->decoder=ReadXTRNImage;
+  entry->encoder=WriteXTRNImage;
+  entry->adjoin=False;
+  entry->stealth=True;
+  entry->description="External transfer of a image in memory";
+  entry->module="XTRN";
+  RegisterMagickInfo(entry);
+
+  entry=SetMagickInfo("XTRNBLOB");
+  entry->decoder=ReadXTRNImage;
+  entry->encoder=WriteXTRNImage;
+  entry->adjoin=False;
+  entry->stealth=True;
+  entry->description="IExternal transfer of a blob in memory";
+  entry->module="XTRN";
+  RegisterMagickInfo(entry);
+
+  entry=SetMagickInfo("XTRNARRAY");
+  entry->decoder=ReadXTRNImage;
+  entry->encoder=WriteXTRNImage;
+  entry->adjoin=False;
+  entry->stealth=True;
+  entry->description="External transfer via a smart array interface";
+  entry->module="XTRN";
+  RegisterMagickInfo(entry);
+
+  entry=SetMagickInfo("XTRNBSTR");
+  entry->decoder=ReadXTRNImage;
+  entry->encoder=WriteXTRNImage;
+  entry->adjoin=False;
+  entry->stealth=True;
+  entry->description="External transfer via a smart array interface";
+  entry->module="XTRN";
+  RegisterMagickInfo(entry);
+}
+
+/*
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%   U n r e g i s t e r X T R N I m a g e                                     %
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%
+%  Method UnregisterXTRNImage removes format registrations made by the
+%  XTRN module from the list of supported formats.
+%
+%  The format of the UnregisterXTRNImage method is:
+%
+%      UnregisterXTRNImage(void)
+%
+*/
+ModuleExport void UnregisterXTRNImage(void)
+{
+  UnregisterMagickInfo("XTRNFILE");
+  UnregisterMagickInfo("XTRNIMAGE");
+  UnregisterMagickInfo("XTRNBLOB");
+  UnregisterMagickInfo("XTRNARRAY");
+  UnregisterMagickInfo("XTRNBSTR");
+}
+
+/*
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%   W r i t e X T R N I m a g e                                               %
+%                                                                             %
+%                                                                             %
+%                                                                             %
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
+%
+%  Method WriteXTRNImage writes an image in the XTRN encoded image format.
+%  We use GIF because it is the only format that is compressed without
+%  requiring addition optional delegates (TIFF, ZIP, etc).
+%
+%  The format of the WriteXTRNImage method is:
+%
+%      unsigned int WriteXTRNImage(const ImageInfo *image_info,Image *image)
+%
+%  A description of each parameter follows.
+%
+%    o status: Method WriteXTRNImage return True if the image is written.
+%      False is returned is there is a memory shortage or if the image file
+%      fails to write.
+%
+%    o image_info: Specifies a pointer to an ImageInfo structure.
+%
+%    o image:  A pointer to a Image structure.
+%
+%
+*/
+
+int SafeArrayFifo(const Image *image,const void *data,const size_t length)
+{
+  SAFEARRAYBOUND NewArrayBounds[1];  // 1 Dimension
+  size_t tlen=length;
+  SAFEARRAY *pSafeArray = (SAFEARRAY *)image->client_data;
+  if (pSafeArray != NULL)
+  {
+                long lBoundl, lBoundu, lCount;
+          HRESULT hr = S_OK;
+    // First see how big the buffer currently is
+                hr = SafeArrayGetLBound(pSafeArray, 1, &lBoundl);
+    if (FAILED(hr))
+      return tlen;
+                hr = SafeArrayGetUBound(pSafeArray, 1, &lBoundu);
+    if (FAILED(hr))
+      return tlen;
+                lCount = lBoundu - lBoundl + 1;
+
+    if (length>0)
+    {
+            unsigned char       *pReturnBuffer = NULL;
+      NewArrayBounds[0].lLbound = 0;   // Start-Index 0
+      NewArrayBounds[0].cElements = length+lCount;  // # Elemente
+      hr = SafeArrayRedim(pSafeArray, NewArrayBounds);
+      if (FAILED(hr))
+        return tlen;
+      hr = SafeArrayAccessData(pSafeArray, (void**)&pReturnBuffer);
+            if( FAILED(hr) )
+                    return tlen;
+            memcpy( pReturnBuffer+lCount, (unsigned char *)data, length );
+      hr = SafeArrayUnaccessData(pSafeArray);
+            if( FAILED(hr) )
+                    return tlen;
+    }
+    else
+    {
+      /* Adjust the length of the buffer to fit */
+    }
+  }
+  return(tlen);
+}
+
+static unsigned int WriteXTRNImage(const ImageInfo *image_info,Image *image)
+{
+  Image *
+    p;
+
+  ImageInfo
+    *clone_info;
+
+  int
+    scene;
+
+  void
+    *param1,
+    *param2,
+    *param3;
+
+  unsigned int
+    status;
+
+  param1 = param2 = param3 = (void *) NULL;
+  if (LocaleCompare(image_info->magick,"XTRNFILE") == 0)
+    {
+      clone_info=CloneImageInfo(image_info);
+      status=WriteImage(image_info,image);
+      if (status == False)
+        CatchImageException(image);
+      DestroyImageInfo(clone_info);
+    }
+  else if (LocaleCompare(image_info->magick,"XTRNIMAGE") == 0)
+    {
+      Image
+        **image_ptr;
+
+      ImageInfo
+        **image_info_ptr;
+
+      clone_info=CloneImageInfo(image_info);
+      if (clone_info->filename[0])
+        {
+          (void) sscanf(clone_info->filename,"%lx,%lx",&param1,&param2);
+          image_info_ptr=(ImageInfo **) param1;
+          image_ptr=(Image **) param2;
+          if ((image_info_ptr != (ImageInfo **) NULL) &&
+              (image_ptr != (Image **) NULL))
+            {
+              *image_ptr=CloneImage(image,0,0,False,&(image->exception));
+              *image_info_ptr=clone_info;
+            }
+        }
+    }
+  else if (LocaleCompare(image_info->magick,"XTRNBLOB") == 0)
+    {
+      char
+        **blob_data;
+
+      ExceptionInfo
+        exception;
+
+      size_t
+        *blob_length;
+
+      char
+        filename[MaxTextExtent];
+
+      clone_info=CloneImageInfo(image_info);
+      if (clone_info->filename[0])
+        {
+          (void) sscanf(clone_info->filename,"%lx,%lx,%s",
+            &param1,&param2,&filename);
+
+          blob_data=(char **) param1;
+          blob_length=(size_t *) param2;
+
+          scene = 0;
+          (void) strcpy(clone_info->filename, filename);
+          for (p=image; p != (Image *) NULL; p=p->next)
+          {
+            (void) strcpy(p->filename, filename);
+            p->scene=scene++;
+          }
+          SetImageInfo(clone_info,True,&image->exception);
+          (void) strcpy(image->magick,clone_info->magick);
+          GetExceptionInfo(&exception);
+          if (*blob_length == 0)
+            *blob_length=8192;
+          *blob_data=(char *) ImageToBlob(clone_info,image,blob_length,&exception);
+          if (*blob_data == NULL)
+            status=False;
+          if (status == False)
+            CatchImageException(image);
+        }
+      DestroyImageInfo(clone_info);
+    }
+  return(True);
+}
+#endif
Files GraphicsMagick-1.3.7.orig/magick/ImageMagick.ico and GraphicsMagick-1.3.7/magick/ImageMagick.ico differ
diff -urN GraphicsMagick-1.3.7.orig/magick/ImageMagick.rc GraphicsMagick-1.3.7/magick/ImageMagick.rc
--- GraphicsMagick-1.3.7.orig/magick/ImageMagick.rc	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/magick/ImageMagick.rc	2009-11-03 13:50:17 -0800
@@ -0,0 +1,71 @@
+#include "winver.h"
+#define WIN32
+#include "magick_config.h"
+#include "version.h"
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Version
+//
+/////////////////////////////////////////////////////////////////////////////
+
+VS_VERSION_INFO VERSIONINFO
+ FILEVERSION MagickLibVersionNumber
+ PRODUCTVERSION MagickLibVersionNumber
+ FILEFLAGSMASK 0x3fL
+#ifdef _DEBUG
+ FILEFLAGS 0x1L
+#else
+ FILEFLAGS 0x0L
+#endif
+ FILEOS 0x40004L
+ FILETYPE 0x1L
+ FILESUBTYPE 0x0L
+BEGIN
+    BLOCK "StringFileInfo"
+    BEGIN
+        BLOCK "040904b0"
+        BEGIN
+            VALUE "ProductName", "GraphicsMagick\0"
+            VALUE "FileDescription", "GraphicsMagick library and utility programs\0"
+            VALUE "OriginalFilename", "GraphicsMagick\0"
+            VALUE "InternalName", "GraphicsMagick\0"
+            VALUE "FileVersion", MagickLibVersionText "\0"
+            VALUE "ProductVersion", MagickLibVersionText "\0"
+            VALUE "CompanyName", "GraphicsMagick Group\0"
+            VALUE "LegalCopyright", MagickCopyright "\0"
+            VALUE "Comments", MagickVersion "\0"
+        END
+    END
+    BLOCK "VarFileInfo"
+    BEGIN
+        VALUE "Translation", 0x409, 1200
+    END
+END
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// IMAGEMAGICK
+//
+/////////////////////////////////////////////////////////////////////////////
+
+COLORS.MGK        IMAGEMAGICK DISCARDABLE "..\\VisualMagick\\bin\\colors.mgk"
+DELEGATES.MGK     IMAGEMAGICK DISCARDABLE "..\\VisualMagick\\bin\\delegates.mgk"
+LOG.MGK           IMAGEMAGICK DISCARDABLE "..\\VisualMagick\\bin\\log.mgk"
+TYPE.MGK          IMAGEMAGICK DISCARDABLE "..\\VisualMagick\\bin\\type.mgk"
+TYPE-GHOSTSCRIPT.MGK IMAGEMAGICK DISCARDABLE "..\\VisualMagick\\bin\\type-ghostscript.mgk"
+MAGIC.MGK         IMAGEMAGICK DISCARDABLE "..\\VisualMagick\\bin\\magic.mgk"
+MODULES.MGK       IMAGEMAGICK DISCARDABLE "..\\VisualMagick\\bin\\modules.mgk"
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Icon
+//
+/////////////////////////////////////////////////////////////////////////////
+
+
+/////////////////////////////////////////////////////////////////////////////
+//
+// Messages
+//
+/////////////////////////////////////////////////////////////////////////////
Files GraphicsMagick-1.3.7.orig/magick/gm_messages.bin and GraphicsMagick-1.3.7/magick/gm_messages.bin differ
diff -urN GraphicsMagick-1.3.7.orig/magick/magick_config.h GraphicsMagick-1.3.7/magick/magick_config.h
--- GraphicsMagick-1.3.7.orig/magick/magick_config.h	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/magick/magick_config.h	2009-11-03 13:49:41 -0800
@@ -0,0 +1,214 @@
+// This may look like C code, but it is really -*- C++ -*-
+//
+// Copyright (C) 2003, 2004 GraphicsMagick Group
+// Copyright (C) 2002 ImageMagick Studio
+// Copyright 1991-1999 E. I. du Pont de Nemours and Company
+//
+// This program is covered by multiple licenses, which are described in
+// Copyright.txt. You should have received a copy of Copyright.txt with this
+// package; otherwise see http://www.graphicsmagick.org/www/Copyright.html.
+
+//
+// This header file is for compilation using Visual Studio for the
+// WIN32 target environment.
+//
+
+// GraphicsMagick build feature configuration.  Please note that
+// disabling a feature via this header file may not be sufficient to
+// remove any library dependencies from the build.  The VisualMagick
+// project files may need to be edited to remove libraries the feature
+// depends on. When building a static GraphicsMagick, coder
+// registrations are made via magick\static.c so if a format is
+// removed, the call to its registration function should be commented
+// out in static.c.  Note that VisualMagick configure updates
+// magick\static.c so re-running configure may cause local changes to
+// be lost.
+//
+// Note that by default GraphicsMagick is configured with a
+// QuantumDepth of eight, has LZW compression enabled, and looks for
+// all files in the directory where the executable is located.  The
+// installed configuration (i.e.  the setup.exe-style installer) is
+// modifying by defining "UseInstalledMagick".  If you would like to
+// install GraphicsMagick using hard-coded paths, or want to use the
+// Windows registry to install GraphicsMagick, then
+// UseInstalledMagick" should be defined.
+//
+// Enabled options are of the form:
+//
+//   #define option
+//
+// while disabled options are initially in the form
+//
+//   // #undef option
+//
+// so it is necessary to remove the comment, and change "undef" to "define"
+// in order for the option to be enabled.
+
+/////////////
+//
+// QuantumDepth
+//
+// Specify size of PixelPacket color Quantums (8, 16, or 32).  A value
+// of 8 uses half the memory than 16 and typically runs 30% faster,
+// but provides 256 times less color resolution than a value of 16.  A
+// value of 16 is recommended if it is desired that all features be
+// fully supported but even a value of 8 allows reading 16-bit files
+// (while losing precision).
+#define QuantumDepth 8
+
+/////////////
+//
+// UseInstalledMagick
+//
+// Define to build a GraphicsMagick which uses registry settings or
+// hard-coded paths to locate installed components.  This supports
+// using the "setup.exe" style installer, or using hard-coded path
+// definitions (see below).  If you want to be able to simply copy
+// the built GraphicsMagick to any directory on any machine, then do
+// not use this setting.
+// #undef UseInstalledMagick
+
+/////////////
+//
+// ProvideDllMain
+//
+// When building GraphicsMagick using DLLs, include a DllMain()
+// function which automatically invokes InitializeMagick(NULL), and
+// DestroyMagick() so that the user doesn't need to. This is enabled
+// by default since no adverse effects have been found.
+#define ProvideDllMain
+
+
+/////////////
+//
+// PREFIX_MAGICK_SYMBOLS
+//
+// Define if the symbols in the GraphicsMagick library should all be
+// prefixed with "Gm" to ensure that there are no conflicts at the
+// library level. Symbol renaming is done using the C preprocessor so
+// there is still risk of conflict at the source level.
+#undef PREFIX_MAGICK_SYMBOLS
+
+
+/////////////
+//
+// DisableSlowOpenMP
+//
+// Define in order to disable use of OpenMP for quick algorithms which
+// may run slower and slower rather than faster and faster as CPU
+// cores are added.  Unfortunately some operating systems and hardware
+// are not so good for OpenMP so that they incur considerable overhead
+// and therefore only provide benefit for very slow algorithms.  Since
+// the problematic algorithms are quick, the inability to speed them
+// up is not much of a problem.
+//
+// From what we have seen, AMD server CPUs (Opteron family) always
+// show a benefit from OpenMP, AMD desktop CPUs (e.g. Phenom X4) are
+// ok, Intel Core 2 Dual core are ok, Intel Core 2 Quad and other
+// Intel multi-chip modules (MCM) or older dual-CPU systems may
+// perform poorly for lightweight algorithms.  If the CPU cores need
+// to communicate via L3 cache or main memory, then performance may
+// suffer unless this define is used.
+// #undef DisableSlowOpenMP
+
+
+/////////////
+//
+// Optional packages
+//
+// All packages except autotrace and X11 are included by default in the build.
+
+// Define to use the autotrace library (obtain sources seperately)
+// #undef HasAUTOTRACE
+
+// Define to use the bzip2 compression library
+//#define HasBZLIB
+
+// Define to use the FlashPIX library (fpx module/subdirectory).
+// FlashPix is no longer actively supported but it should still be
+// discovered by the configure program and work if the source is
+// extracted to a 'fpx' subdirectory.
+// #undef HasFPX
+
+// Define to use the JBIG library
+// NO WAY, that's GPL ppl!
+//#define HasJBIG
+
+// Define to use the Jasper JPEG v2 library
+//#define HasJP2
+
+// Define to use the IJG JPEG v1 library
+#define HasJPEG
+
+// Define to use the "little" Color Management System (LCMS) library
+//#define HasLCMS
+
+// Define to use the PNG library
+#define HasPNG
+
+// Define to use the TIFF library
+//#define HasTIFF
+
+// Define to use the FreeType (TrueType & Postscript font support) library
+//#define HasTTF
+
+// Define to use the Windows GDI32 library (for clipboard and emf modules)
+//#define HasWINGDI32
+
+// Define to use the libwmf WMF parsing library
+//#define HasWMFlite
+
+/////////////
+//
+// HasX11
+//
+// Define if MIT X11 is available (or stubbed) X11 is required in
+// order for the 'animate', 'display', and 'import' commands to be
+// available.  X11 is not usually available under Windows since it
+// requires that another package be installed such as Cygwin's X11.
+// If you know what X11 is and actually plan to use it, then define
+// HasX11.
+// #undef HasX11
+
+// Define to use the GNOME XML library
+//#define HasXML
+
+// Define to use the zlib ZIP compression library
+#define HasZLIB
+
+/////////////
+//
+// Hard Coded Paths
+//
+// If hard-coded paths are defined via the the following define
+// statements, then they will override any values from the Windows
+// registry.
+// It is unusual to use hard-coded paths under Windows.
+
+// Optional: Specify where X11 application resource files are installed
+// #define ApplicationDefaults "c:\\GraphicsMagick\\"
+
+// Optional: Specify where user-specific X11 application resource files are installed
+// #define PreferencesDefaults  "~\\."
+
+// Optional: Specify where gm.exe and support executables are installed
+// #define MagickBinPath       "c:\\GraphicsMagick\\"
+
+// Optional: Specify where operating system specific files are installed
+// #define MagickLibPath       "c:\\GraphicsMagick\\"
+
+// Optional: Specify where operating system independent files are installed
+// #define MagickSharePath     "c:\\GraphicsMagick\\"
+
+// Optional: Specify where coder modules (DLLs) are installed
+// #define MagickCoderModulesPath   "c:\\GraphicsMagick\\"
+
+// Optional: Specify where filter modules (DLLs) are installed
+// #define MagickFilterModulesPath   "c:\\GraphicsMagick\\"
+
+/////////////
+//
+// The remaining defines should not require user modification.
+//
+#define HAVE_SYS_TYPES_H 1
+
diff -urN GraphicsMagick-1.3.7.orig/magick/magick_config.h~ GraphicsMagick-1.3.7/magick/magick_config.h~
--- GraphicsMagick-1.3.7.orig/magick/magick_config.h~	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/magick/magick_config.h~	2009-11-03 13:49:41 -0800
@@ -0,0 +1,213 @@
+// This may look like C code, but it is really -*- C++ -*-
+//
+// Copyright (C) 2003, 2004 GraphicsMagick Group
+// Copyright (C) 2002 ImageMagick Studio
+// Copyright 1991-1999 E. I. du Pont de Nemours and Company
+//
+// This program is covered by multiple licenses, which are described in
+// Copyright.txt. You should have received a copy of Copyright.txt with this
+// package; otherwise see http://www.graphicsmagick.org/www/Copyright.html.
+
+//
+// This header file is for compilation using Visual Studio for the
+// WIN32 target environment.
+//
+
+// GraphicsMagick build feature configuration.  Please note that
+// disabling a feature via this header file may not be sufficient to
+// remove any library dependencies from the build.  The VisualMagick
+// project files may need to be edited to remove libraries the feature
+// depends on. When building a static GraphicsMagick, coder
+// registrations are made via magick\static.c so if a format is
+// removed, the call to its registration function should be commented
+// out in static.c.  Note that VisualMagick configure updates
+// magick\static.c so re-running configure may cause local changes to
+// be lost.
+//
+// Note that by default GraphicsMagick is configured with a
+// QuantumDepth of eight, has LZW compression enabled, and looks for
+// all files in the directory where the executable is located.  The
+// installed configuration (i.e.  the setup.exe-style installer) is
+// modifying by defining "UseInstalledMagick".  If you would like to
+// install GraphicsMagick using hard-coded paths, or want to use the
+// Windows registry to install GraphicsMagick, then
+// UseInstalledMagick" should be defined.
+//
+// Enabled options are of the form:
+//
+//   #define option
+//
+// while disabled options are initially in the form
+//
+//   // #undef option
+//
+// so it is necessary to remove the comment, and change "undef" to "define"
+// in order for the option to be enabled.
+
+/////////////
+//
+// QuantumDepth
+//
+// Specify size of PixelPacket color Quantums (8, 16, or 32).  A value
+// of 8 uses half the memory than 16 and typically runs 30% faster,
+// but provides 256 times less color resolution than a value of 16.  A
+// value of 16 is recommended if it is desired that all features be
+// fully supported but even a value of 8 allows reading 16-bit files
+// (while losing precision).
+#define QuantumDepth 8
+
+/////////////
+//
+// UseInstalledMagick
+//
+// Define to build a GraphicsMagick which uses registry settings or
+// hard-coded paths to locate installed components.  This supports
+// using the "setup.exe" style installer, or using hard-coded path
+// definitions (see below).  If you want to be able to simply copy
+// the built GraphicsMagick to any directory on any machine, then do
+// not use this setting.
+// #undef UseInstalledMagick
+
+/////////////
+//
+// ProvideDllMain
+//
+// When building GraphicsMagick using DLLs, include a DllMain()
+// function which automatically invokes InitializeMagick(NULL), and
+// DestroyMagick() so that the user doesn't need to. This is enabled
+// by default since no adverse effects have been found.
+#define ProvideDllMain
+
+
+/////////////
+//
+// PREFIX_MAGICK_SYMBOLS
+//
+// Define if the symbols in the GraphicsMagick library should all be
+// prefixed with "Gm" to ensure that there are no conflicts at the
+// library level. Symbol renaming is done using the C preprocessor so
+// there is still risk of conflict at the source level.
+#undef PREFIX_MAGICK_SYMBOLS
+
+
+/////////////
+//
+// DisableSlowOpenMP
+//
+// Define in order to disable use of OpenMP for quick algorithms which
+// may run slower and slower rather than faster and faster as CPU
+// cores are added.  Unfortunately some operating systems and hardware
+// are not so good for OpenMP so that they incur considerable overhead
+// and therefore only provide benefit for very slow algorithms.  Since
+// the problematic algorithms are quick, the inability to speed them
+// up is not much of a problem.
+//
+// From what we have seen, AMD server CPUs (Opteron family) always
+// show a benefit from OpenMP, AMD desktop CPUs (e.g. Phenom X4) are
+// ok, Intel Core 2 Dual core are ok, Intel Core 2 Quad and other
+// Intel multi-chip modules (MCM) or older dual-CPU systems may
+// perform poorly for lightweight algorithms.  If the CPU cores need
+// to communicate via L3 cache or main memory, then performance may
+// suffer unless this define is used.
+// #undef DisableSlowOpenMP
+
+
+/////////////
+//
+// Optional packages
+//
+// All packages except autotrace and X11 are included by default in the build.
+
+// Define to use the autotrace library (obtain sources seperately)
+// #undef HasAUTOTRACE
+
+// Define to use the bzip2 compression library
+//#define HasBZLIB
+
+// Define to use the FlashPIX library (fpx module/subdirectory).
+// FlashPix is no longer actively supported but it should still be
+// discovered by the configure program and work if the source is
+// extracted to a 'fpx' subdirectory.
+// #undef HasFPX
+
+// Define to use the JBIG library
+#define HasJBIG
+
+// Define to use the Jasper JPEG v2 library
+//#define HasJP2
+
+// Define to use the IJG JPEG v1 library
+#define HasJPEG
+
+// Define to use the "little" Color Management System (LCMS) library
+//#define HasLCMS
+
+// Define to use the PNG library
+#define HasPNG
+
+// Define to use the TIFF library
+//#define HasTIFF
+
+// Define to use the FreeType (TrueType & Postscript font support) library
+//#define HasTTF
+
+// Define to use the Windows GDI32 library (for clipboard and emf modules)
+//#define HasWINGDI32
+
+// Define to use the libwmf WMF parsing library
+//#define HasWMFlite
+
+/////////////
+//
+// HasX11
+//
+// Define if MIT X11 is available (or stubbed) X11 is required in
+// order for the 'animate', 'display', and 'import' commands to be
+// available.  X11 is not usually available under Windows since it
+// requires that another package be installed such as Cygwin's X11.
+// If you know what X11 is and actually plan to use it, then define
+// HasX11.
+// #undef HasX11
+
+// Define to use the GNOME XML library
+//#define HasXML
+
+// Define to use the zlib ZIP compression library
+#define HasZLIB
+
+/////////////
+//
+// Hard Coded Paths
+//
+// If hard-coded paths are defined via the the following define
+// statements, then they will override any values from the Windows
+// registry.
+// It is unusual to use hard-coded paths under Windows.
+
+// Optional: Specify where X11 application resource files are installed
+// #define ApplicationDefaults "c:\\GraphicsMagick\\"
+
+// Optional: Specify where user-specific X11 application resource files are installed
+// #define PreferencesDefaults  "~\\."
+
+// Optional: Specify where gm.exe and support executables are installed
+// #define MagickBinPath       "c:\\GraphicsMagick\\"
+
+// Optional: Specify where operating system specific files are installed
+// #define MagickLibPath       "c:\\GraphicsMagick\\"
+
+// Optional: Specify where operating system independent files are installed
+// #define MagickSharePath     "c:\\GraphicsMagick\\"
+
+// Optional: Specify where coder modules (DLLs) are installed
+// #define MagickCoderModulesPath   "c:\\GraphicsMagick\\"
+
+// Optional: Specify where filter modules (DLLs) are installed
+// #define MagickFilterModulesPath   "c:\\GraphicsMagick\\"
+
+/////////////
+//
+// The remaining defines should not require user modification.
+//
+#define HAVE_SYS_TYPES_H 1
+
diff -urN GraphicsMagick-1.3.7.orig/post_patch.log GraphicsMagick-1.3.7/post_patch.log
--- GraphicsMagick-1.3.7.orig/post_patch.log	1969-12-31 16:00:00 -0800
+++ GraphicsMagick-1.3.7/post_patch.log	2009-11-03 13:49:41 -0800
@@ -0,0 +1,7 @@
+Running post-patch
+subbing 'c:/Users/lth/dev/bakery/ports/work/GraphicsMagick/src/GraphicsMagick-1.3.7/VisualMagick/All/All.vcproj'
+subbing 'c:/Users/lth/dev/bakery/ports/work/GraphicsMagick/src/GraphicsMagick-1.3.7/VisualMagick/coders/CORE_coders_xt_lib.vcproj'
+subbing 'c:/Users/lth/dev/bakery/ports/work/GraphicsMagick/src/GraphicsMagick-1.3.7/VisualMagick/filters/CORE_filters_xt_lib.vcproj'
+subbing 'c:/Users/lth/dev/bakery/ports/work/GraphicsMagick/src/GraphicsMagick-1.3.7/VisualMagick/magick/CORE_magick_xt_lib.vcproj'
+subbing 'c:/Users/lth/dev/bakery/ports/work/GraphicsMagick/src/GraphicsMagick-1.3.7/VisualMagick/Magick++/CORE_Magick++_xt_lib.vcproj'
+subbing 'c:/Users/lth/dev/bakery/ports/work/GraphicsMagick/src/GraphicsMagick-1.3.7/VisualMagick/wand/CORE_wand_xt_lib.vcproj'
